{
  "title": "Java高并发秒杀系统API(一)之DAO层",
  "cells": [
    {
      "type": "text",
      "data": "<header id=\"header\" class=\"header\" itemscope=\"\" itemtype=\"//schema.org/WPHeader\" style=\"background-image: url(http://od2xrf8gr.bkt.clouddn.com/background2.png); color: rgb(85, 85, 85); font-family: Lato, 'PingFang SC', 'Microsoft YaHei', sans-serif; font-size: 14px;\"></header><main id=\"main\" class=\"main\" style=\"padding-bottom: 150px; color: rgb(85, 85, 85); font-family: Lato, 'PingFang SC', 'Microsoft YaHei', sans-serif; font-size: 14px;\"><div class=\"main-inner\" style=\"margin: 0px auto; width: 700px;\"><div class=\"content-wrap\"><div id=\"content\" class=\"content\"><div id=\"posts\" class=\"posts-expand\" style=\"padding-top: 40px;\"><article class=\"post post-type-normal\" itemscope=\"\" itemtype=\"//schema.org/Article\" style=\"opacity: 1; transform: translateY(0px);\"><div class=\"post-body\" itemprop=\"articleBody\" style=\"text-align: justify;\"><p style=\"margin: 0px 0px 25px;\">之前写了一个用<a href=\"http://codingxiaxw.cn/2016/11/15/45-smm%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/\" style=\"color: rgb(85, 85, 85); text-decoration: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;\">SSM框架搭建的商品查询系统</a>,分两篇文章分别记录了自己整合SSM框架的过程以及利用SSM开发的一些基础知识，由于那时候刚学完SSM框架，所以自己觉得整合的过程总结的不够好。<a id=\"more\" style=\"border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;\"></a>如今在有了一定的SSM框架开发经验后打算参考慕课网上对秒杀系统的讲解视频再写一个用Maven+SSM做的一个秒杀系统，从头到位记录自己整合SSM框架以及用SS框架M开发这个秒杀系统的过程。&nbsp;<br></p><p style=\"margin: 0px 0px 25px;\">为什么要用maven?这个工具真是让你用了以后就爱不释手。这样给你简单的说说maven,它的强大之处就是你不用再像以前那样，如果在项目中用到spring框架还要到spring官网上去下载一系列的jar包，用了maven对项目进行管理之后你就可以直接在它的pom.xml文件中添加jar包的相应坐标，这样maven就能自动从它的中央仓库中为我们将这些jar包下载到其本地仓库中供我们使用。&nbsp;</p><p style=\"margin: 0px 0px 25px;\">用maven对项目进行管理的知识很简单，关于创建maven项目的知识大家看我的这篇文章便可以在几分钟内掌握:<a href=\"http://codingxiaxw.cn/2016/11/24/51-first-maven-project/\" style=\"color: rgb(85, 85, 85); text-decoration: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;\">Maven安装配置及创建你的第一个Maven项目</a></p><p style=\"margin: 0px 0px 25px;\">秒杀系统搭建环境:IDEA+Maven+SSM框架。源码<a href=\"https://github.com/codingXiaxw/seckill\" target=\"_blank\" rel=\"external\" style=\"color: rgb(85, 85, 85); text-decoration: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;\">请点击这里</a>前往我的github。&nbsp;</p><p style=\"margin: 0px 0px 25px;\">完成这个秒杀系统，需要完成四个模块的代码编写，分别是:&nbsp;</p><ul style=\"list-style: none;\"><li style=\"list-style: circle;\">1.<a href=\"http://codingxiaxw.cn/2016/11/27/53-maven-ssm-seckill-dao/\" style=\"color: rgb(85, 85, 85); text-decoration: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;\">Java高并发秒杀APi之业务分析与DAO层代码编写</a>。</li><li style=\"list-style: circle;\">2.<a href=\"http://codingxiaxw.cn/2016/11/28/54-seckill-service/\" style=\"color: rgb(85, 85, 85); text-decoration: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;\">Java高并发秒杀APi之Service层代码编写</a>。</li><li style=\"list-style: circle;\">3.<a href=\"http://codingxiaxw.cn/2016/11/28/55-seckill-web/\" style=\"color: rgb(85, 85, 85); text-decoration: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;\">Java高并发秒杀APi之Web层代码编写</a>。</li></ul><p style=\"margin: 0px 0px 25px;\">其实完成这三个模块就可以完成我们的秒杀系统了，但对于我们的秒杀系统中一件秒杀商品，在秒杀的时候肯定会有成千上万的用户参与进来，通过上述三个模块完成的系统无法解决这么多用户的高并发操作，所以我们还需要第四个模块:&nbsp;</p><ul style=\"list-style: none;\"><li style=\"list-style: circle;\">4.<a href=\"\" style=\"color: rgb(85, 85, 85); text-decoration: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;\">Java高并发秒杀APi之高并发优化(待更新)</a>。</li></ul><p style=\"margin: 0px 0px 25px;\">该系统我将按照上述4个模块通过4篇文章来完成介绍，本篇文章进行第一个模块的讲解及项目的介绍以及Dao层编码的开发。首先看看我们项目的效果图:&nbsp;</p><p style=\"margin: 0px 0px 25px;\">列表页:&nbsp;</p><p style=\"margin: 0px 0px 25px;\"><a href=\"http://od2xrf8gr.bkt.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-11-27%20%E4%B8%8B%E5%8D%883.24.50.png\" class=\"fancybox\" rel=\"group\" style=\"color: rgb(85, 85, 85); text-decoration: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;\"><img src=\"quiver-image-url/7B1A3E7CA1692E62E2A57398AB5776BB.png\" alt=\"\" style=\"border: 1px solid rgb(221, 221, 221); margin: 0px auto; height: auto; cursor: -webkit-zoom-in; box-sizing: border-box; padding: 3px; display: block !important;\"></a></p><p style=\"margin: 0px 0px 25px;\">详情页:&nbsp;</p><p style=\"margin: 0px 0px 25px;\"><a href=\"http://od2xrf8gr.bkt.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-11-27%20%E4%B8%8B%E5%8D%883.25.39.png\" class=\"fancybox\" rel=\"group\" style=\"color: rgb(85, 85, 85); text-decoration: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;\"><img src=\"quiver-image-url/9CC0A95D76FF330C66068747B7386428.png\" alt=\"\" style=\"border: 1px solid rgb(221, 221, 221); margin: 0px auto; height: auto; cursor: -webkit-zoom-in; box-sizing: border-box; padding: 3px; display: block !important;\"></a></p><p style=\"margin: 0px 0px 25px;\"><a href=\"http://od2xrf8gr.bkt.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-11-27%20%E4%B8%8B%E5%8D%883.25.22.png\" class=\"fancybox\" rel=\"group\" style=\"color: rgb(85, 85, 85); text-decoration: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;\"><img src=\"quiver-image-url/DCCCEA6660E6A4E53CB7FB043E511577.png\" alt=\"\" style=\"border: 1px solid rgb(221, 221, 221); margin: 0px auto; height: auto; cursor: -webkit-zoom-in; box-sizing: border-box; padding: 3px; display: block !important;\"></a></p><p style=\"margin: 0px 0px 25px;\"><a href=\"http://od2xrf8gr.bkt.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-11-27%20%E4%B8%8B%E5%8D%883.25.48.png\" class=\"fancybox\" rel=\"group\" style=\"color: rgb(85, 85, 85); text-decoration: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;\"><img src=\"quiver-image-url/40C6C278270A5436CF649638B51333B3.png\" alt=\"\" style=\"border: 1px solid rgb(221, 221, 221); margin: 0px auto; height: auto; cursor: -webkit-zoom-in; box-sizing: border-box; padding: 3px; display: block !important;\"></a></p><p style=\"margin: 0px 0px 25px;\"><a href=\"http://od2xrf8gr.bkt.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-11-27%20%E4%B8%8B%E5%8D%883.26.16.png\" class=\"fancybox\" rel=\"group\" style=\"color: rgb(85, 85, 85); text-decoration: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;\"><img src=\"quiver-image-url/5A7E0FBFCE0EA5A6644130375707E527.png\" alt=\"\" style=\"border: 1px solid rgb(221, 221, 221); margin: 0px auto; height: auto; cursor: -webkit-zoom-in; box-sizing: border-box; padding: 3px; display: block !important;\"></a></p><p style=\"margin: 0px 0px 25px;\">接下来我将从如何用maven创建我们的秒杀系统seckill项目开始到完成我们的秒杀系统，详细介绍自己完成它的过程。&nbsp;</p><h2 id=\"1-相关技术介绍\" style=\"margin: 20px 0px 15px; padding: 10px 0px 0px; line-height: 1.5; font-size: 20px;\"><a href=\"http://codingxiaxw.cn/2016/11/27/53-maven-ssm-seckill-dao/#1-%E7%9B%B8%E5%85%B3%E6%8A%80%E6%9C%AF%E4%BB%8B%E7%BB%8D\" class=\"headerlink\" title=\"1.相关技术介绍\" style=\"color: rgb(85, 85, 85); text-decoration: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;\"></a>1.相关技术介绍</h2><p style=\"margin: 0px 0px 25px;\"><strong>MySQL:</strong>1.这里我们采用手写代码创建相关表，掌握这种能力对我们以后的项目二次上线会有很大的帮助；2.SQL技巧；3.事务和行级锁的理解和一些应用。&nbsp;</p><p style=\"margin: 0px 0px 25px;\"><strong>MyBatis:</strong>1.DAO层的设计与开发。2.MyBatis的合理使用，使用Mapper动态代理的方式进行数据库的访问。3.MyBatis和Spring框架的整合:如何高效的去整合MyBatis和Spring框架。&nbsp;</p><p style=\"margin: 0px 0px 25px;\"><strong>Spring:</strong>1.Spring IOC帮我们整合Service以及Service所有的依赖。2.声明式事务。对Spring声明式事务做一些分析以及它的行为分析。&nbsp;</p><p style=\"margin: 0px 0px 25px;\"><strong>Spring MVC:</strong>1.Restful接口设计和使用。Restful现在更多的被应用在一些互联网公司Web层接口的应用上。2.框架运作流程。3.Spring Controller的使用技巧。&nbsp;</p><p style=\"margin: 0px 0px 25px;\"><strong>前端:</strong>1.交互设计。2.bootstrap。3.JQuery。设计到前端的页面代码我们直接拷贝即可，毕竟真正开发中这样一个项目是由产品经理、前端工程师、后端工程师一起完成的。&nbsp;</p><p style=\"margin: 0px 0px 25px;\"><strong>高并发:</strong>1.高并发点和高并发分析。2.优化思路并实现。&nbsp;</p><p style=\"margin: 0px 0px 25px;\">下面开始我们的项目的开发。&nbsp;</p><h2 id=\"2-Java高并发秒杀APi之业务分析与DAO层代码编写\" style=\"margin: 20px 0px 15px; padding: 10px 0px 0px; line-height: 1.5; font-size: 20px;\"><a href=\"http://codingxiaxw.cn/2016/11/27/53-maven-ssm-seckill-dao/#2-Java%E9%AB%98%E5%B9%B6%E5%8F%91%E7%A7%92%E6%9D%80APi%E4%B9%8B%E4%B8%9A%E5%8A%A1%E5%88%86%E6%9E%90%E4%B8%8EDAO%E5%B1%82%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99\" class=\"headerlink\" title=\"2.Java高并发秒杀APi之业务分析与DAO层代码编写\" style=\"color: rgb(85, 85, 85); text-decoration: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;\"></a>2.Java高并发秒杀APi之业务分析与DAO层代码编写</h2><h3 id=\"2-1用Maven创建我们的项目seckill\" style=\"margin: 20px 0px 15px; padding: 10px 0px 0px; line-height: 1.5; font-size: 18px;\"><a href=\"http://codingxiaxw.cn/2016/11/27/53-maven-ssm-seckill-dao/#2-1%E7%94%A8Maven%E5%88%9B%E5%BB%BA%E6%88%91%E4%BB%AC%E7%9A%84%E9%A1%B9%E7%9B%AEseckill\" class=\"headerlink\" title=\"2.1用Maven创建我们的项目seckill\" style=\"color: rgb(85, 85, 85); text-decoration: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;\"></a>2.1用Maven创建我们的项目seckill</h3><p style=\"margin: 0px 0px 25px;\">在命令行中输入如下命令:&nbsp;</p><figure class=\"highlight plain\" style=\"margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6;\"><table style=\"margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;\"><tbody><tr style=\"background-color: rgb(249, 249, 249);\"><td class=\"gutter\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none; -webkit-user-select: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right;\"><span class=\"line\" style=\"height: 20px;\">1</span><br></pre></td><td class=\"code\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none;\"><span class=\"line\" style=\"height: 20px;\">mvn archetype:generate -DgroupId=cn.codingxiaxw.seckill -DartifactId=seckill -Dpackage=cn.codingxiaxw.seckill -Dversion=1.0-SNAPSHOT -DarchetypeArtifactId=maven-archetype-webapp</span><br></pre></td></tr></tbody></table></figure><p style=\"margin: 0px 0px 25px;\">然后使用IDEA打开该项目，在IDEA中对项目按照Maven项目的标准骨架补全我们项目的相应文件包，最后的工程结构如下:&nbsp;</p><p style=\"margin: 0px 0px 25px;\"><a href=\"http://od2xrf8gr.bkt.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-11-27%20%E4%B8%8B%E5%8D%883.53.43.png\" class=\"fancybox\" rel=\"group\" style=\"color: rgb(85, 85, 85); text-decoration: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;\"><img src=\"quiver-image-url/305CE18B318396C86B90AE554A63B69A.png\" width=\"50%\" style=\"border: 1px solid rgb(221, 221, 221); margin: 0px auto; height: auto; cursor: -webkit-zoom-in; box-sizing: border-box; padding: 3px; display: block !important;\"></a></p><p style=\"margin: 0px 0px 25px;\">main包下进行我们项目的代码编写及相关配置文件，test包下进行我们项目的测试。&nbsp;</p><p style=\"margin: 0px 0px 25px;\">打开WEB-INF下的web.xml，它默认为我们创建servlet版本为2.3，需要修改它的根标签为:<br></p><figure class=\"highlight xml\" style=\"margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6;\"><table style=\"margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;\"><tbody><tr style=\"background-color: rgb(249, 249, 249);\"><td class=\"gutter\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none; -webkit-user-select: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right;\"><span class=\"line\" style=\"height: 20px;\">1</span><br><span class=\"line\" style=\"height: 20px;\">2</span><br><span class=\"line\" style=\"height: 20px;\">3</span><br><span class=\"line\" style=\"height: 20px;\">4</span><br><span class=\"line\" style=\"height: 20px;\">5</span><br><span class=\"line\" style=\"height: 20px;\">6</span><br><span class=\"line\" style=\"height: 20px;\">7</span><br><span class=\"line\" style=\"height: 20px;\">8</span><br><span class=\"line\" style=\"height: 20px;\">9</span><br><span class=\"line\" style=\"height: 20px;\">10</span><br></pre></td><td class=\"code\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none;\"><span class=\"line\" style=\"height: 20px;\"><span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">web-app</span> <span class=\"attr\">xmlns</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"http://java.sun.com/xml/ns/javaee\"</span></span><br><span class=\"line\" style=\"height: 20px;\">         <span class=\"attr\">xmlns:xsi</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"http://www.w3.org/2001/XMLSchema-instance\"</span></span><br><span class=\"line\" style=\"height: 20px;\">         <span class=\"attr\">xsi:schemaLocation</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"http://java.sun.com/xml/ns/javaee</span><br><span class=\"line\" style=\"height: 20px;\">                      http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\"</span></span><br><span class=\"line\" style=\"height: 20px;\">         <span class=\"attr\">version</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"3.0\"</span></span><br><span class=\"line\" style=\"height: 20px;\">         <span class=\"attr\">metadata-complete</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"true\"</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\"><span class=\"comment\" style=\"color: rgb(150, 152, 150);\">&lt;!--用maven创建的web-app需要修改servlet的版本为3.0--&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\"><span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">web-app</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p style=\"margin: 0px 0px 25px;\"></p><p style=\"margin: 0px 0px 25px;\">然后打开pom.xml，在里面添加我们需要的第三方jar包的坐标配置信息，如SSM框架、数据库、日志，如下:<br></p><figure class=\"highlight xml\" style=\"margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6;\"><table style=\"margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;\"><tbody><tr style=\"background-color: rgb(249, 249, 249);\"><td class=\"gutter\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none; -webkit-user-select: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right;\"><span class=\"line\" style=\"height: 20px;\">1</span><br><span class=\"line\" style=\"height: 20px;\">2</span><br><span class=\"line\" style=\"height: 20px;\">3</span><br><span class=\"line\" style=\"height: 20px;\">4</span><br><span class=\"line\" style=\"height: 20px;\">5</span><br><span class=\"line\" style=\"height: 20px;\">6</span><br><span class=\"line\" style=\"height: 20px;\">7</span><br><span class=\"line\" style=\"height: 20px;\">8</span><br><span class=\"line\" style=\"height: 20px;\">9</span><br><span class=\"line\" style=\"height: 20px;\">10</span><br><span class=\"line\" style=\"height: 20px;\">11</span><br><span class=\"line\" style=\"height: 20px;\">12</span><br><span class=\"line\" style=\"height: 20px;\">13</span><br><span class=\"line\" style=\"height: 20px;\">14</span><br><span class=\"line\" style=\"height: 20px;\">15</span><br><span class=\"line\" style=\"height: 20px;\">16</span><br><span class=\"line\" style=\"height: 20px;\">17</span><br><span class=\"line\" style=\"height: 20px;\">18</span><br><span class=\"line\" style=\"height: 20px;\">19</span><br><span class=\"line\" style=\"height: 20px;\">20</span><br><span class=\"line\" style=\"height: 20px;\">21</span><br><span class=\"line\" style=\"height: 20px;\">22</span><br><span class=\"line\" style=\"height: 20px;\">23</span><br><span class=\"line\" style=\"height: 20px;\">24</span><br><span class=\"line\" style=\"height: 20px;\">25</span><br><span class=\"line\" style=\"height: 20px;\">26</span><br><span class=\"line\" style=\"height: 20px;\">27</span><br><span class=\"line\" style=\"height: 20px;\">28</span><br><span class=\"line\" style=\"height: 20px;\">29</span><br><span class=\"line\" style=\"height: 20px;\">30</span><br><span class=\"line\" style=\"height: 20px;\">31</span><br><span class=\"line\" style=\"height: 20px;\">32</span><br><span class=\"line\" style=\"height: 20px;\">33</span><br><span class=\"line\" style=\"height: 20px;\">34</span><br><span class=\"line\" style=\"height: 20px;\">35</span><br><span class=\"line\" style=\"height: 20px;\">36</span><br><span class=\"line\" style=\"height: 20px;\">37</span><br><span class=\"line\" style=\"height: 20px;\">38</span><br><span class=\"line\" style=\"height: 20px;\">39</span><br><span class=\"line\" style=\"height: 20px;\">40</span><br><span class=\"line\" style=\"height: 20px;\">41</span><br><span class=\"line\" style=\"height: 20px;\">42</span><br><span class=\"line\" style=\"height: 20px;\">43</span><br><span class=\"line\" style=\"height: 20px;\">44</span><br><span class=\"line\" style=\"height: 20px;\">45</span><br><span class=\"line\" style=\"height: 20px;\">46</span><br><span class=\"line\" style=\"height: 20px;\">47</span><br><span class=\"line\" style=\"height: 20px;\">48</span><br><span class=\"line\" style=\"height: 20px;\">49</span><br><span class=\"line\" style=\"height: 20px;\">50</span><br><span class=\"line\" style=\"height: 20px;\">51</span><br><span class=\"line\" style=\"height: 20px;\">52</span><br><span class=\"line\" style=\"height: 20px;\">53</span><br><span class=\"line\" style=\"height: 20px;\">54</span><br><span class=\"line\" style=\"height: 20px;\">55</span><br><span class=\"line\" style=\"height: 20px;\">56</span><br><span class=\"line\" style=\"height: 20px;\">57</span><br><span class=\"line\" style=\"height: 20px;\">58</span><br><span class=\"line\" style=\"height: 20px;\">59</span><br><span class=\"line\" style=\"height: 20px;\">60</span><br><span class=\"line\" style=\"height: 20px;\">61</span><br><span class=\"line\" style=\"height: 20px;\">62</span><br><span class=\"line\" style=\"height: 20px;\">63</span><br><span class=\"line\" style=\"height: 20px;\">64</span><br><span class=\"line\" style=\"height: 20px;\">65</span><br><span class=\"line\" style=\"height: 20px;\">66</span><br><span class=\"line\" style=\"height: 20px;\">67</span><br><span class=\"line\" style=\"height: 20px;\">68</span><br><span class=\"line\" style=\"height: 20px;\">69</span><br><span class=\"line\" style=\"height: 20px;\">70</span><br><span class=\"line\" style=\"height: 20px;\">71</span><br><span class=\"line\" style=\"height: 20px;\">72</span><br><span class=\"line\" style=\"height: 20px;\">73</span><br><span class=\"line\" style=\"height: 20px;\">74</span><br><span class=\"line\" style=\"height: 20px;\">75</span><br><span class=\"line\" style=\"height: 20px;\">76</span><br><span class=\"line\" style=\"height: 20px;\">77</span><br><span class=\"line\" style=\"height: 20px;\">78</span><br><span class=\"line\" style=\"height: 20px;\">79</span><br><span class=\"line\" style=\"height: 20px;\">80</span><br><span class=\"line\" style=\"height: 20px;\">81</span><br><span class=\"line\" style=\"height: 20px;\">82</span><br><span class=\"line\" style=\"height: 20px;\">83</span><br><span class=\"line\" style=\"height: 20px;\">84</span><br><span class=\"line\" style=\"height: 20px;\">85</span><br><span class=\"line\" style=\"height: 20px;\">86</span><br><span class=\"line\" style=\"height: 20px;\">87</span><br><span class=\"line\" style=\"height: 20px;\">88</span><br><span class=\"line\" style=\"height: 20px;\">89</span><br><span class=\"line\" style=\"height: 20px;\">90</span><br><span class=\"line\" style=\"height: 20px;\">91</span><br><span class=\"line\" style=\"height: 20px;\">92</span><br><span class=\"line\" style=\"height: 20px;\">93</span><br><span class=\"line\" style=\"height: 20px;\">94</span><br><span class=\"line\" style=\"height: 20px;\">95</span><br><span class=\"line\" style=\"height: 20px;\">96</span><br><span class=\"line\" style=\"height: 20px;\">97</span><br><span class=\"line\" style=\"height: 20px;\">98</span><br><span class=\"line\" style=\"height: 20px;\">99</span><br><span class=\"line\" style=\"height: 20px;\">100</span><br><span class=\"line\" style=\"height: 20px;\">101</span><br><span class=\"line\" style=\"height: 20px;\">102</span><br><span class=\"line\" style=\"height: 20px;\">103</span><br><span class=\"line\" style=\"height: 20px;\">104</span><br><span class=\"line\" style=\"height: 20px;\">105</span><br><span class=\"line\" style=\"height: 20px;\">106</span><br><span class=\"line\" style=\"height: 20px;\">107</span><br><span class=\"line\" style=\"height: 20px;\">108</span><br><span class=\"line\" style=\"height: 20px;\">109</span><br><span class=\"line\" style=\"height: 20px;\">110</span><br><span class=\"line\" style=\"height: 20px;\">111</span><br><span class=\"line\" style=\"height: 20px;\">112</span><br><span class=\"line\" style=\"height: 20px;\">113</span><br><span class=\"line\" style=\"height: 20px;\">114</span><br><span class=\"line\" style=\"height: 20px;\">115</span><br><span class=\"line\" style=\"height: 20px;\">116</span><br><span class=\"line\" style=\"height: 20px;\">117</span><br><span class=\"line\" style=\"height: 20px;\">118</span><br><span class=\"line\" style=\"height: 20px;\">119</span><br><span class=\"line\" style=\"height: 20px;\">120</span><br><span class=\"line\" style=\"height: 20px;\">121</span><br><span class=\"line\" style=\"height: 20px;\">122</span><br><span class=\"line\" style=\"height: 20px;\">123</span><br><span class=\"line\" style=\"height: 20px;\">124</span><br><span class=\"line\" style=\"height: 20px;\">125</span><br><span class=\"line\" style=\"height: 20px;\">126</span><br><span class=\"line\" style=\"height: 20px;\">127</span><br><span class=\"line\" style=\"height: 20px;\">128</span><br><span class=\"line\" style=\"height: 20px;\">129</span><br><span class=\"line\" style=\"height: 20px;\">130</span><br><span class=\"line\" style=\"height: 20px;\">131</span><br><span class=\"line\" style=\"height: 20px;\">132</span><br><span class=\"line\" style=\"height: 20px;\">133</span><br><span class=\"line\" style=\"height: 20px;\">134</span><br><span class=\"line\" style=\"height: 20px;\">135</span><br><span class=\"line\" style=\"height: 20px;\">136</span><br><span class=\"line\" style=\"height: 20px;\">137</span><br><span class=\"line\" style=\"height: 20px;\">138</span><br><span class=\"line\" style=\"height: 20px;\">139</span><br><span class=\"line\" style=\"height: 20px;\">140</span><br><span class=\"line\" style=\"height: 20px;\">141</span><br><span class=\"line\" style=\"height: 20px;\">142</span><br><span class=\"line\" style=\"height: 20px;\">143</span><br></pre></td><td class=\"code\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none;\"><span class=\"line\" style=\"height: 20px;\"><span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">project</span> <span class=\"attr\">xmlns</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"http://maven.apache.org/POM/4.0.0\"</span> <span class=\"attr\">xmlns:xsi</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"http://www.w3.org/2001/XMLSchema-instance\"</span></span><br><span class=\"line\" style=\"height: 20px;\">  <span class=\"attr\">xsi:schemaLocation</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">  <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">modelVersion</span>&gt;</span>4.0.0<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">modelVersion</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">  <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">groupId</span>&gt;</span>cn.codingxiaxw.seckill<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">  <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">artifactId</span>&gt;</span>seckill<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">  <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">packaging</span>&gt;</span>war<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">packaging</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">  <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">version</span>&gt;</span>1.0-SNAPSHOT<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">  <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">name</span>&gt;</span>seckill Maven Webapp<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">  <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">url</span>&gt;</span>http://maven.apache.org<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">url</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">  <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">dependencies</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">&lt;!--3.0的junit是使用编程的方式来进行测试，而junit4是使用注解的方式来运行junit--&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">groupId</span>&gt;</span>junit<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">artifactId</span>&gt;</span>junit<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">version</span>&gt;</span>4.11<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">scope</span>&gt;</span>test<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">scope</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">&lt;!--补全项目依赖--&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">&lt;!--1.日志 java日志有:slf4j,log4j,logback,common-logging</span><br><span class=\"line\" style=\"height: 20px;\">        slf4j:是规范/接口</span><br><span class=\"line\" style=\"height: 20px;\">        日志实现:log4j,logback,common-logging</span><br><span class=\"line\" style=\"height: 20px;\">        使用:slf4j+logback</span><br><span class=\"line\" style=\"height: 20px;\">    --&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.slf4j<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">artifactId</span>&gt;</span>slf4j-api<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">version</span>&gt;</span>1.7.12<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">groupId</span>&gt;</span>ch.qos.logback<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">artifactId</span>&gt;</span>logback-core<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">version</span>&gt;</span>1.1.1<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">&lt;!--实现slf4j接口并整合--&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">groupId</span>&gt;</span>ch.qos.logback<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">artifactId</span>&gt;</span>logback-classic<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">version</span>&gt;</span>1.1.1<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">&lt;!--1.数据库相关依赖--&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">groupId</span>&gt;</span>mysql<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">artifactId</span>&gt;</span>mysql-connector-java<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">version</span>&gt;</span>5.1.35<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">scope</span>&gt;</span>runtime<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">scope</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">groupId</span>&gt;</span>c3p0<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">artifactId</span>&gt;</span>c3p0<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">version</span>&gt;</span>0.9.1.1<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">&lt;!--2.dao框架:MyBatis依赖--&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.mybatis<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">artifactId</span>&gt;</span>mybatis<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">version</span>&gt;</span>3.3.0<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">&lt;!--mybatis自身实现的spring整合依赖--&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.mybatis<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">artifactId</span>&gt;</span>mybatis-spring<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">version</span>&gt;</span>1.2.3<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">&lt;!--3.Servlet web相关依赖--&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">groupId</span>&gt;</span>taglibs<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">artifactId</span>&gt;</span>standard<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">version</span>&gt;</span>1.1.2<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">groupId</span>&gt;</span>jstl<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">artifactId</span>&gt;</span>jstl<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">version</span>&gt;</span>1.2<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">artifactId</span>&gt;</span>jackson-databind<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">version</span>&gt;</span>2.5.4<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">groupId</span>&gt;</span>javax.servlet<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">artifactId</span>&gt;</span>javax.servlet-api<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">version</span>&gt;</span>3.1.0<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">&lt;!--4:spring依赖--&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">&lt;!--1)spring核心依赖--&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-core<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">version</span>&gt;</span>4.1.7.RELEASE<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-beans<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">version</span>&gt;</span>4.1.7.RELEASE<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-context<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">version</span>&gt;</span>4.1.7.RELEASE<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">&lt;!--2)spring dao层依赖--&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-jdbc<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">version</span>&gt;</span>4.1.7.RELEASE<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-tx<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">version</span>&gt;</span>4.1.7.RELEASE<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">&lt;!--3)springweb相关依赖--&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-web<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">version</span>&gt;</span>4.1.7.RELEASE<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-webmvc<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">version</span>&gt;</span>4.1.7.RELEASE<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">&lt;!--4)spring test相关依赖--&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-test<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">version</span>&gt;</span>4.1.7.RELEASE<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">  <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">dependencies</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">  <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">build</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">finalName</span>&gt;</span>seckill<span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">finalName</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">  <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">build</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\"><span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">project</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p style=\"margin: 0px 0px 25px;\"></p><p style=\"margin: 0px 0px 25px;\">到此，我们项目的初始化工作完成。&nbsp;</p><h3 id=\"2-2秒杀系统业务分析\" style=\"margin: 20px 0px 15px; padding: 10px 0px 0px; line-height: 1.5; font-size: 18px;\"><a href=\"http://codingxiaxw.cn/2016/11/27/53-maven-ssm-seckill-dao/#2-2%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E4%B8%9A%E5%8A%A1%E5%88%86%E6%9E%90\" class=\"headerlink\" title=\"2.2秒杀系统业务分析\" style=\"color: rgb(85, 85, 85); text-decoration: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;\"></a>2.2秒杀系统业务分析</h3><p style=\"margin: 0px 0px 25px;\">秒杀系统业务流程如下:&nbsp;</p><p style=\"margin: 0px 0px 25px;\"><a href=\"http://od2xrf8gr.bkt.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-11-27%20%E4%B8%8B%E5%8D%884.07.38.png\" class=\"fancybox\" rel=\"group\" style=\"color: rgb(85, 85, 85); text-decoration: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;\"><img src=\"quiver-image-url/34E14595A7F13B611B11AD2682EB6CDE.png\" alt=\"\" style=\"border: 1px solid rgb(221, 221, 221); margin: 0px auto; height: auto; cursor: -webkit-zoom-in; box-sizing: border-box; padding: 3px; display: block !important;\"></a></p><p style=\"margin: 0px 0px 25px;\">由图可以发现，整个系统其实是针对库存做的系统。用户成功秒杀商品，对于我们系统的操作就是:1.减库存。2.记录用户的购买明细。下面看看我们用户对库存的业务分析:&nbsp;</p><p style=\"margin: 0px 0px 25px;\"><a href=\"http://od2xrf8gr.bkt.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-11-27%20%E4%B8%8B%E5%8D%884.09.29.png\" class=\"fancybox\" rel=\"group\" style=\"color: rgb(85, 85, 85); text-decoration: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;\"><img src=\"quiver-image-url/DF206C624154773A6326211E36DCF33F.png\" alt=\"\" style=\"border: 1px solid rgb(221, 221, 221); margin: 0px auto; height: auto; cursor: -webkit-zoom-in; box-sizing: border-box; padding: 3px; display: block !important;\"></a></p><p style=\"margin: 0px 0px 25px;\">记录用户的秒杀成功信息，我们需要记录:1.谁购买成功了。2.购买成功的时间/有效期。3.付款/发货信息。这些数据组成了用户的秒杀成功信息，也就是用户的购买行为。&nbsp;</p><p style=\"margin: 0px 0px 25px;\">为什么我们的系统需要事务?看如下这些故障:1.若是用户成功秒杀商品我们记录了其购买明细却没有减库存。导致商品的超卖。2.减了库存却没有记录用户的购买明细。导致商品的少卖。对于上述两个故障，若是没有事务的支持，损失最大的无疑是我们的用户和商家。在MySQL中，它内置的事务机制，可以准确的帮我们完成减库存和记录用户购买明细的过程。&nbsp;</p><p style=\"margin: 0px 0px 25px;\">MySQL实现秒杀的难点分析:当用户A秒杀id为10的商品时，此时MySQL需要进行的操作是:1.开启事务。2.更新商品的库存信息。3.添加用户的购买明细，包括用户秒杀的商品id以及唯一标识用户身份的信息如电话号码等。4.提交事务。若此时有另一个用户B也在秒杀这件id为10的商品，他就需要等待，等待到用户A成功秒杀到这件商品然后MySQL成功的提交了事务他才能拿到这个id为10的商品的锁从而进行秒杀，而同一时间是不可能只有用户B在等待，肯定是有很多很多的用户都在等待拿到这个行级锁。秒杀的难点就在这里，如何高效的处理这些竞争？如何高效的完成事务?在后面第4个模块如何进行高并发的优化为大家讲解。&nbsp;</p><p style=\"margin: 0px 0px 25px;\">我们这个系统需要完成秒杀的哪些功能?先来看看天猫的一个秒杀库存系统:&nbsp;</p><p style=\"margin: 0px 0px 25px;\"><a href=\"http://od2xrf8gr.bkt.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-11-27%20%E4%B8%8B%E5%8D%884.30.36.png\" class=\"fancybox\" rel=\"group\" style=\"color: rgb(85, 85, 85); text-decoration: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;\"><img src=\"quiver-image-url/3DEB0AB29E6A2520BBBF0EB984E9267F.png\" alt=\"\" style=\"border: 1px solid rgb(221, 221, 221); margin: 0px auto; height: auto; cursor: -webkit-zoom-in; box-sizing: border-box; padding: 3px; display: block !important;\"></a></p><p style=\"margin: 0px 0px 25px;\">大家看了是不是觉得很复杂?当然不用担心，我们只是实现秒杀的一些功能:1.秒杀接口的暴露。2.执行秒杀的操作。3.相关查询，比如说列表查询，详情页查询。我们实现这三个功能即可。接下来进行具体的编码工作，首先是Dao层的编码。&nbsp;</p><h3 id=\"2-3Dao层设计开发\" style=\"margin: 20px 0px 15px; padding: 10px 0px 0px; line-height: 1.5; font-size: 18px;\"><a href=\"http://codingxiaxw.cn/2016/11/27/53-maven-ssm-seckill-dao/#2-3Dao%E5%B1%82%E8%AE%BE%E8%AE%A1%E5%BC%80%E5%8F%91\" class=\"headerlink\" title=\"2.3Dao层设计开发\" style=\"color: rgb(85, 85, 85); text-decoration: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;\"></a>2.3Dao层设计开发</h3><p style=\"margin: 0px 0px 25px;\">首先创建数据库，相关表的sql语句我在main包下的sql包中已经给出。&nbsp;</p><p style=\"margin: 0px 0px 25px;\">然后创建对应表的实体类，在java包下创建cn.codingxiaxw.entity包，创建一个Seckill.java实体类，代码如下:<br></p><figure class=\"highlight java\" style=\"margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6;\"><table style=\"margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;\"><tbody><tr style=\"background-color: rgb(249, 249, 249);\"><td class=\"gutter\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none; -webkit-user-select: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right;\"><span class=\"line\" style=\"height: 20px;\">1</span><br><span class=\"line\" style=\"height: 20px;\">2</span><br><span class=\"line\" style=\"height: 20px;\">3</span><br><span class=\"line\" style=\"height: 20px;\">4</span><br><span class=\"line\" style=\"height: 20px;\">5</span><br><span class=\"line\" style=\"height: 20px;\">6</span><br><span class=\"line\" style=\"height: 20px;\">7</span><br><span class=\"line\" style=\"height: 20px;\">8</span><br><span class=\"line\" style=\"height: 20px;\">9</span><br><span class=\"line\" style=\"height: 20px;\">10</span><br><span class=\"line\" style=\"height: 20px;\">11</span><br><span class=\"line\" style=\"height: 20px;\">12</span><br><span class=\"line\" style=\"height: 20px;\">13</span><br><span class=\"line\" style=\"height: 20px;\">14</span><br><span class=\"line\" style=\"height: 20px;\">15</span><br><span class=\"line\" style=\"height: 20px;\">16</span><br><span class=\"line\" style=\"height: 20px;\">17</span><br><span class=\"line\" style=\"height: 20px;\">18</span><br><span class=\"line\" style=\"height: 20px;\">19</span><br><span class=\"line\" style=\"height: 20px;\">20</span><br><span class=\"line\" style=\"height: 20px;\">21</span><br><span class=\"line\" style=\"height: 20px;\">22</span><br><span class=\"line\" style=\"height: 20px;\">23</span><br><span class=\"line\" style=\"height: 20px;\">24</span><br><span class=\"line\" style=\"height: 20px;\">25</span><br><span class=\"line\" style=\"height: 20px;\">26</span><br><span class=\"line\" style=\"height: 20px;\">27</span><br><span class=\"line\" style=\"height: 20px;\">28</span><br><span class=\"line\" style=\"height: 20px;\">29</span><br><span class=\"line\" style=\"height: 20px;\">30</span><br><span class=\"line\" style=\"height: 20px;\">31</span><br><span class=\"line\" style=\"height: 20px;\">32</span><br><span class=\"line\" style=\"height: 20px;\">33</span><br><span class=\"line\" style=\"height: 20px;\">34</span><br><span class=\"line\" style=\"height: 20px;\">35</span><br><span class=\"line\" style=\"height: 20px;\">36</span><br><span class=\"line\" style=\"height: 20px;\">37</span><br><span class=\"line\" style=\"height: 20px;\">38</span><br><span class=\"line\" style=\"height: 20px;\">39</span><br><span class=\"line\" style=\"height: 20px;\">40</span><br><span class=\"line\" style=\"height: 20px;\">41</span><br><span class=\"line\" style=\"height: 20px;\">42</span><br><span class=\"line\" style=\"height: 20px;\">43</span><br><span class=\"line\" style=\"height: 20px;\">44</span><br><span class=\"line\" style=\"height: 20px;\">45</span><br><span class=\"line\" style=\"height: 20px;\">46</span><br><span class=\"line\" style=\"height: 20px;\">47</span><br><span class=\"line\" style=\"height: 20px;\">48</span><br><span class=\"line\" style=\"height: 20px;\">49</span><br><span class=\"line\" style=\"height: 20px;\">50</span><br><span class=\"line\" style=\"height: 20px;\">51</span><br><span class=\"line\" style=\"height: 20px;\">52</span><br><span class=\"line\" style=\"height: 20px;\">53</span><br><span class=\"line\" style=\"height: 20px;\">54</span><br><span class=\"line\" style=\"height: 20px;\">55</span><br><span class=\"line\" style=\"height: 20px;\">56</span><br><span class=\"line\" style=\"height: 20px;\">57</span><br><span class=\"line\" style=\"height: 20px;\">58</span><br><span class=\"line\" style=\"height: 20px;\">59</span><br><span class=\"line\" style=\"height: 20px;\">60</span><br><span class=\"line\" style=\"height: 20px;\">61</span><br><span class=\"line\" style=\"height: 20px;\">62</span><br><span class=\"line\" style=\"height: 20px;\">63</span><br><span class=\"line\" style=\"height: 20px;\">64</span><br><span class=\"line\" style=\"height: 20px;\">65</span><br><span class=\"line\" style=\"height: 20px;\">66</span><br><span class=\"line\" style=\"height: 20px;\">67</span><br><span class=\"line\" style=\"height: 20px;\">68</span><br><span class=\"line\" style=\"height: 20px;\">69</span><br></pre></td><td class=\"code\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none;\"><span class=\"line\" style=\"height: 20px;\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> <span class=\"class\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">class</span> <span class=\"title\" style=\"color: rgb(112, 192, 177);\">Seckill</span></span><br><span class=\"line\" style=\"height: 20px;\"></span>{</span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">private</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">long</span> seckillId;</span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">private</span> String name;</span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">private</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">int</span> number;</span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">private</span> Date startTime;</span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">private</span> Date endTime;</span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">private</span> Date createTime;</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"function\" style=\"color: rgb(122, 166, 218);\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">long</span> <span class=\"title\" style=\"color: rgb(112, 192, 177);\">getSeckillId</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">()</span> </span>{</span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">return</span> seckillId;</span><br><span class=\"line\" style=\"height: 20px;\">    }</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"function\" style=\"color: rgb(122, 166, 218);\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">void</span> <span class=\"title\" style=\"color: rgb(112, 192, 177);\">setSeckillId</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">(<span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">long</span> seckillId)</span> </span>{</span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">this</span>.seckillId = seckillId;</span><br><span class=\"line\" style=\"height: 20px;\">    }</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"function\" style=\"color: rgb(122, 166, 218);\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> String <span class=\"title\" style=\"color: rgb(112, 192, 177);\">getName</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">()</span> </span>{</span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">return</span> name;</span><br><span class=\"line\" style=\"height: 20px;\">    }</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"function\" style=\"color: rgb(122, 166, 218);\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">void</span> <span class=\"title\" style=\"color: rgb(112, 192, 177);\">setName</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">(String name)</span> </span>{</span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">this</span>.name = name;</span><br><span class=\"line\" style=\"height: 20px;\">    }</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"function\" style=\"color: rgb(122, 166, 218);\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">int</span> <span class=\"title\" style=\"color: rgb(112, 192, 177);\">getNumber</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">()</span> </span>{</span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">return</span> number;</span><br><span class=\"line\" style=\"height: 20px;\">    }</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"function\" style=\"color: rgb(122, 166, 218);\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">void</span> <span class=\"title\" style=\"color: rgb(112, 192, 177);\">setNumber</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">(<span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">int</span> number)</span> </span>{</span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">this</span>.number = number;</span><br><span class=\"line\" style=\"height: 20px;\">    }</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"function\" style=\"color: rgb(122, 166, 218);\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> Date <span class=\"title\" style=\"color: rgb(112, 192, 177);\">getStartTime</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">()</span> </span>{</span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">return</span> startTime;</span><br><span class=\"line\" style=\"height: 20px;\">    }</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"function\" style=\"color: rgb(122, 166, 218);\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">void</span> <span class=\"title\" style=\"color: rgb(112, 192, 177);\">setStartTime</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">(Date startTime)</span> </span>{</span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">this</span>.startTime = startTime;</span><br><span class=\"line\" style=\"height: 20px;\">    }</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"function\" style=\"color: rgb(122, 166, 218);\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> Date <span class=\"title\" style=\"color: rgb(112, 192, 177);\">getEndTime</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">()</span> </span>{</span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">return</span> endTime;</span><br><span class=\"line\" style=\"height: 20px;\">    }</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"function\" style=\"color: rgb(122, 166, 218);\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">void</span> <span class=\"title\" style=\"color: rgb(112, 192, 177);\">setEndTime</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">(Date endTime)</span> </span>{</span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">this</span>.endTime = endTime;</span><br><span class=\"line\" style=\"height: 20px;\">    }</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"function\" style=\"color: rgb(122, 166, 218);\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> Date <span class=\"title\" style=\"color: rgb(112, 192, 177);\">getCreateTime</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">()</span> </span>{</span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">return</span> createTime;</span><br><span class=\"line\" style=\"height: 20px;\">    }</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"function\" style=\"color: rgb(122, 166, 218);\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">void</span> <span class=\"title\" style=\"color: rgb(112, 192, 177);\">setCreateTime</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">(Date createTime)</span> </span>{</span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">this</span>.createTime = createTime;</span><br><span class=\"line\" style=\"height: 20px;\">    }</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"meta\" style=\"color: rgb(195, 151, 216);\">@Override</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"function\" style=\"color: rgb(122, 166, 218);\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> String <span class=\"title\" style=\"color: rgb(112, 192, 177);\">toString</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">()</span> </span>{</span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">return</span> <span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"Seckill{\"</span> +</span><br><span class=\"line\" style=\"height: 20px;\">                <span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"seckillId=\"</span> + seckillId +</span><br><span class=\"line\" style=\"height: 20px;\">                <span class=\"string\" style=\"color: rgb(185, 202, 74);\">\", name='\"</span> + name + <span class=\"string\" style=\"color: rgb(185, 202, 74);\">'\\''</span> +</span><br><span class=\"line\" style=\"height: 20px;\">                <span class=\"string\" style=\"color: rgb(185, 202, 74);\">\", number=\"</span> + number +</span><br><span class=\"line\" style=\"height: 20px;\">                <span class=\"string\" style=\"color: rgb(185, 202, 74);\">\", startTime=\"</span> + startTime +</span><br><span class=\"line\" style=\"height: 20px;\">                <span class=\"string\" style=\"color: rgb(185, 202, 74);\">\", endTime=\"</span> + endTime +</span><br><span class=\"line\" style=\"height: 20px;\">                <span class=\"string\" style=\"color: rgb(185, 202, 74);\">\", createTime=\"</span> + createTime +</span><br><span class=\"line\" style=\"height: 20px;\">                <span class=\"string\" style=\"color: rgb(185, 202, 74);\">'}'</span>;</span><br><span class=\"line\" style=\"height: 20px;\">    }</span><br><span class=\"line\" style=\"height: 20px;\">}</span><br></pre></td></tr></tbody></table></figure><p style=\"margin: 0px 0px 25px;\"></p><p style=\"margin: 0px 0px 25px;\">和一个SuccessKilled.java，代码如下:<br></p><figure class=\"highlight java\" style=\"margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6;\"><table style=\"margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;\"><tbody><tr style=\"background-color: rgb(249, 249, 249);\"><td class=\"gutter\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none; -webkit-user-select: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right;\"><span class=\"line\" style=\"height: 20px;\">1</span><br><span class=\"line\" style=\"height: 20px;\">2</span><br><span class=\"line\" style=\"height: 20px;\">3</span><br><span class=\"line\" style=\"height: 20px;\">4</span><br><span class=\"line\" style=\"height: 20px;\">5</span><br><span class=\"line\" style=\"height: 20px;\">6</span><br><span class=\"line\" style=\"height: 20px;\">7</span><br><span class=\"line\" style=\"height: 20px;\">8</span><br><span class=\"line\" style=\"height: 20px;\">9</span><br><span class=\"line\" style=\"height: 20px;\">10</span><br><span class=\"line\" style=\"height: 20px;\">11</span><br><span class=\"line\" style=\"height: 20px;\">12</span><br><span class=\"line\" style=\"height: 20px;\">13</span><br><span class=\"line\" style=\"height: 20px;\">14</span><br><span class=\"line\" style=\"height: 20px;\">15</span><br><span class=\"line\" style=\"height: 20px;\">16</span><br><span class=\"line\" style=\"height: 20px;\">17</span><br><span class=\"line\" style=\"height: 20px;\">18</span><br><span class=\"line\" style=\"height: 20px;\">19</span><br><span class=\"line\" style=\"height: 20px;\">20</span><br><span class=\"line\" style=\"height: 20px;\">21</span><br><span class=\"line\" style=\"height: 20px;\">22</span><br><span class=\"line\" style=\"height: 20px;\">23</span><br><span class=\"line\" style=\"height: 20px;\">24</span><br><span class=\"line\" style=\"height: 20px;\">25</span><br><span class=\"line\" style=\"height: 20px;\">26</span><br><span class=\"line\" style=\"height: 20px;\">27</span><br><span class=\"line\" style=\"height: 20px;\">28</span><br><span class=\"line\" style=\"height: 20px;\">29</span><br><span class=\"line\" style=\"height: 20px;\">30</span><br><span class=\"line\" style=\"height: 20px;\">31</span><br><span class=\"line\" style=\"height: 20px;\">32</span><br><span class=\"line\" style=\"height: 20px;\">33</span><br><span class=\"line\" style=\"height: 20px;\">34</span><br><span class=\"line\" style=\"height: 20px;\">35</span><br><span class=\"line\" style=\"height: 20px;\">36</span><br><span class=\"line\" style=\"height: 20px;\">37</span><br><span class=\"line\" style=\"height: 20px;\">38</span><br><span class=\"line\" style=\"height: 20px;\">39</span><br><span class=\"line\" style=\"height: 20px;\">40</span><br><span class=\"line\" style=\"height: 20px;\">41</span><br><span class=\"line\" style=\"height: 20px;\">42</span><br><span class=\"line\" style=\"height: 20px;\">43</span><br><span class=\"line\" style=\"height: 20px;\">44</span><br><span class=\"line\" style=\"height: 20px;\">45</span><br><span class=\"line\" style=\"height: 20px;\">46</span><br><span class=\"line\" style=\"height: 20px;\">47</span><br><span class=\"line\" style=\"height: 20px;\">48</span><br><span class=\"line\" style=\"height: 20px;\">49</span><br><span class=\"line\" style=\"height: 20px;\">50</span><br><span class=\"line\" style=\"height: 20px;\">51</span><br><span class=\"line\" style=\"height: 20px;\">52</span><br><span class=\"line\" style=\"height: 20px;\">53</span><br><span class=\"line\" style=\"height: 20px;\">54</span><br><span class=\"line\" style=\"height: 20px;\">55</span><br><span class=\"line\" style=\"height: 20px;\">56</span><br><span class=\"line\" style=\"height: 20px;\">57</span><br><span class=\"line\" style=\"height: 20px;\">58</span><br><span class=\"line\" style=\"height: 20px;\">59</span><br><span class=\"line\" style=\"height: 20px;\">60</span><br></pre></td><td class=\"code\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none;\"><span class=\"line\" style=\"height: 20px;\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> <span class=\"class\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">class</span> <span class=\"title\" style=\"color: rgb(112, 192, 177);\">SuccessKilled</span></span><br><span class=\"line\" style=\"height: 20px;\"></span>{</span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">private</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">long</span> seckillId;</span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">private</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">long</span> userPhone;</span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">private</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">short</span> state;</span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">private</span> Date createTime;</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">//多对一，因为一件商品在库存中有很多数量，对应的购买明细也有很多。</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">private</span> Seckill seckill;</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"function\" style=\"color: rgb(122, 166, 218);\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">long</span> <span class=\"title\" style=\"color: rgb(112, 192, 177);\">getSeckillId</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">()</span> </span>{</span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">return</span> seckillId;</span><br><span class=\"line\" style=\"height: 20px;\">    }</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"function\" style=\"color: rgb(122, 166, 218);\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">void</span> <span class=\"title\" style=\"color: rgb(112, 192, 177);\">setSeckillId</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">(<span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">long</span> seckillId)</span> </span>{</span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">this</span>.seckillId = seckillId;</span><br><span class=\"line\" style=\"height: 20px;\">    }</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"function\" style=\"color: rgb(122, 166, 218);\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">long</span> <span class=\"title\" style=\"color: rgb(112, 192, 177);\">getUserPhone</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">()</span> </span>{</span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">return</span> userPhone;</span><br><span class=\"line\" style=\"height: 20px;\">    }</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"function\" style=\"color: rgb(122, 166, 218);\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">void</span> <span class=\"title\" style=\"color: rgb(112, 192, 177);\">setUserPhone</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">(<span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">long</span> userPhone)</span> </span>{</span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">this</span>.userPhone = userPhone;</span><br><span class=\"line\" style=\"height: 20px;\">    }</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"function\" style=\"color: rgb(122, 166, 218);\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">short</span> <span class=\"title\" style=\"color: rgb(112, 192, 177);\">getState</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">()</span> </span>{</span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">return</span> state;</span><br><span class=\"line\" style=\"height: 20px;\">    }</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"function\" style=\"color: rgb(122, 166, 218);\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">void</span> <span class=\"title\" style=\"color: rgb(112, 192, 177);\">setState</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">(<span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">short</span> state)</span> </span>{</span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">this</span>.state = state;</span><br><span class=\"line\" style=\"height: 20px;\">    }</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"function\" style=\"color: rgb(122, 166, 218);\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> Date <span class=\"title\" style=\"color: rgb(112, 192, 177);\">getCreateTime</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">()</span> </span>{</span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">return</span> createTime;</span><br><span class=\"line\" style=\"height: 20px;\">    }</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"function\" style=\"color: rgb(122, 166, 218);\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">void</span> <span class=\"title\" style=\"color: rgb(112, 192, 177);\">setCreateTime</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">(Date createTime)</span> </span>{</span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">this</span>.createTime = createTime;</span><br><span class=\"line\" style=\"height: 20px;\">    }</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"function\" style=\"color: rgb(122, 166, 218);\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> Seckill <span class=\"title\" style=\"color: rgb(112, 192, 177);\">getSeckill</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">()</span> </span>{</span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">return</span> seckill;</span><br><span class=\"line\" style=\"height: 20px;\">    }</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"function\" style=\"color: rgb(122, 166, 218);\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">void</span> <span class=\"title\" style=\"color: rgb(112, 192, 177);\">setSeckill</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">(Seckill seckill)</span> </span>{</span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">this</span>.seckill = seckill;</span><br><span class=\"line\" style=\"height: 20px;\">    }</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"meta\" style=\"color: rgb(195, 151, 216);\">@Override</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"function\" style=\"color: rgb(122, 166, 218);\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> String <span class=\"title\" style=\"color: rgb(112, 192, 177);\">toString</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">()</span> </span>{</span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">return</span> <span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"SuccessKilled{\"</span> +</span><br><span class=\"line\" style=\"height: 20px;\">                <span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"seckillId=\"</span> + seckillId +</span><br><span class=\"line\" style=\"height: 20px;\">                <span class=\"string\" style=\"color: rgb(185, 202, 74);\">\", userPhone=\"</span> + userPhone +</span><br><span class=\"line\" style=\"height: 20px;\">                <span class=\"string\" style=\"color: rgb(185, 202, 74);\">\", state=\"</span> + state +</span><br><span class=\"line\" style=\"height: 20px;\">                <span class=\"string\" style=\"color: rgb(185, 202, 74);\">\", createTime=\"</span> + createTime +</span><br><span class=\"line\" style=\"height: 20px;\">                <span class=\"string\" style=\"color: rgb(185, 202, 74);\">'}'</span>;</span><br><span class=\"line\" style=\"height: 20px;\">    }</span><br><span class=\"line\" style=\"height: 20px;\">}</span><br></pre></td></tr></tbody></table></figure><p style=\"margin: 0px 0px 25px;\"></p><p style=\"margin: 0px 0px 25px;\">然后针对实体创建出对应dao层的接口，在cn.codingxiaxw.dao包下创建Seckill.java:<br></p><figure class=\"highlight java\" style=\"margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6;\"><table style=\"margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;\"><tbody><tr style=\"background-color: rgb(249, 249, 249);\"><td class=\"gutter\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none; -webkit-user-select: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right;\"><span class=\"line\" style=\"height: 20px;\">1</span><br><span class=\"line\" style=\"height: 20px;\">2</span><br><span class=\"line\" style=\"height: 20px;\">3</span><br><span class=\"line\" style=\"height: 20px;\">4</span><br><span class=\"line\" style=\"height: 20px;\">5</span><br><span class=\"line\" style=\"height: 20px;\">6</span><br><span class=\"line\" style=\"height: 20px;\">7</span><br><span class=\"line\" style=\"height: 20px;\">8</span><br><span class=\"line\" style=\"height: 20px;\">9</span><br><span class=\"line\" style=\"height: 20px;\">10</span><br><span class=\"line\" style=\"height: 20px;\">11</span><br><span class=\"line\" style=\"height: 20px;\">12</span><br><span class=\"line\" style=\"height: 20px;\">13</span><br><span class=\"line\" style=\"height: 20px;\">14</span><br><span class=\"line\" style=\"height: 20px;\">15</span><br><span class=\"line\" style=\"height: 20px;\">16</span><br><span class=\"line\" style=\"height: 20px;\">17</span><br><span class=\"line\" style=\"height: 20px;\">18</span><br><span class=\"line\" style=\"height: 20px;\">19</span><br><span class=\"line\" style=\"height: 20px;\">20</span><br><span class=\"line\" style=\"height: 20px;\">21</span><br><span class=\"line\" style=\"height: 20px;\">22</span><br><span class=\"line\" style=\"height: 20px;\">23</span><br><span class=\"line\" style=\"height: 20px;\">24</span><br><span class=\"line\" style=\"height: 20px;\">25</span><br><span class=\"line\" style=\"height: 20px;\">26</span><br><span class=\"line\" style=\"height: 20px;\">27</span><br></pre></td><td class=\"code\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none;\"><span class=\"line\" style=\"height: 20px;\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> <span class=\"class\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">interface</span> <span class=\"title\" style=\"color: rgb(112, 192, 177);\">SeckillDao</span></span><br><span class=\"line\" style=\"height: 20px;\"></span>{</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">/**</span><br><span class=\"line\" style=\"height: 20px;\">     * 减库存</span><br><span class=\"line\" style=\"height: 20px;\">     * <span class=\"doctag\">@param</span> seckillId</span><br><span class=\"line\" style=\"height: 20px;\">     * <span class=\"doctag\">@param</span> killTime</span><br><span class=\"line\" style=\"height: 20px;\">     * <span class=\"doctag\">@return</span> 如果影响行数&gt;1，表示更新库存的记录行数</span><br><span class=\"line\" style=\"height: 20px;\">     */</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"function\" style=\"color: rgb(122, 166, 218);\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">int</span> <span class=\"title\" style=\"color: rgb(112, 192, 177);\">reduceNumber</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">(<span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">long</span> seckillId, Date killTime)</span></span>;</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">/**</span><br><span class=\"line\" style=\"height: 20px;\">     * 根据id查询秒杀的商品信息</span><br><span class=\"line\" style=\"height: 20px;\">     * <span class=\"doctag\">@param</span> seckillId</span><br><span class=\"line\" style=\"height: 20px;\">     * <span class=\"doctag\">@return</span></span><br><span class=\"line\" style=\"height: 20px;\">     */</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"function\" style=\"color: rgb(122, 166, 218);\">Seckill <span class=\"title\" style=\"color: rgb(112, 192, 177);\">queryById</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">(<span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">long</span> seckillId)</span></span>;</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">/**</span><br><span class=\"line\" style=\"height: 20px;\">     * 根据偏移量查询秒杀商品列表</span><br><span class=\"line\" style=\"height: 20px;\">     * <span class=\"doctag\">@param</span> off</span><br><span class=\"line\" style=\"height: 20px;\">     * <span class=\"doctag\">@param</span> limit</span><br><span class=\"line\" style=\"height: 20px;\">     * <span class=\"doctag\">@return</span></span><br><span class=\"line\" style=\"height: 20px;\">     */</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"function\" style=\"color: rgb(122, 166, 218);\">List&lt;Seckill&gt; <span class=\"title\" style=\"color: rgb(112, 192, 177);\">queryAll</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">(<span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">int</span> off,<span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">int</span> limit)</span></span>;</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">}</span><br></pre></td></tr></tbody></table></figure><p style=\"margin: 0px 0px 25px;\"></p><p style=\"margin: 0px 0px 25px;\">和SuccessKilled.java:<br></p><figure class=\"highlight java\" style=\"margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6;\"><table style=\"margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;\"><tbody><tr style=\"background-color: rgb(249, 249, 249);\"><td class=\"gutter\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none; -webkit-user-select: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right;\"><span class=\"line\" style=\"height: 20px;\">1</span><br><span class=\"line\" style=\"height: 20px;\">2</span><br><span class=\"line\" style=\"height: 20px;\">3</span><br><span class=\"line\" style=\"height: 20px;\">4</span><br><span class=\"line\" style=\"height: 20px;\">5</span><br><span class=\"line\" style=\"height: 20px;\">6</span><br><span class=\"line\" style=\"height: 20px;\">7</span><br><span class=\"line\" style=\"height: 20px;\">8</span><br><span class=\"line\" style=\"height: 20px;\">9</span><br><span class=\"line\" style=\"height: 20px;\">10</span><br><span class=\"line\" style=\"height: 20px;\">11</span><br><span class=\"line\" style=\"height: 20px;\">12</span><br><span class=\"line\" style=\"height: 20px;\">13</span><br><span class=\"line\" style=\"height: 20px;\">14</span><br><span class=\"line\" style=\"height: 20px;\">15</span><br><span class=\"line\" style=\"height: 20px;\">16</span><br><span class=\"line\" style=\"height: 20px;\">17</span><br><span class=\"line\" style=\"height: 20px;\">18</span><br></pre></td><td class=\"code\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none;\"><span class=\"line\" style=\"height: 20px;\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> <span class=\"class\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">interface</span> <span class=\"title\" style=\"color: rgb(112, 192, 177);\">SuccessKilledDao</span> </span>{</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">/**</span><br><span class=\"line\" style=\"height: 20px;\">     * 插入购买明细,可过滤重复</span><br><span class=\"line\" style=\"height: 20px;\">     * <span class=\"doctag\">@param</span> seckillId</span><br><span class=\"line\" style=\"height: 20px;\">     * <span class=\"doctag\">@param</span> userPhone</span><br><span class=\"line\" style=\"height: 20px;\">     * <span class=\"doctag\">@return</span>插入的行数</span><br><span class=\"line\" style=\"height: 20px;\">     */</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"function\" style=\"color: rgb(122, 166, 218);\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">int</span> <span class=\"title\" style=\"color: rgb(112, 192, 177);\">insertSuccessKilled</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">(<span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">long</span> seckillId,<span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">long</span> userPhone)</span></span>;</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">/**</span><br><span class=\"line\" style=\"height: 20px;\">     * 根据秒杀商品的id查询明细SuccessKilled对象(该对象携带了Seckill秒杀产品对象)</span><br><span class=\"line\" style=\"height: 20px;\">     * <span class=\"doctag\">@param</span> seckillId</span><br><span class=\"line\" style=\"height: 20px;\">     * <span class=\"doctag\">@return</span></span><br><span class=\"line\" style=\"height: 20px;\">     */</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"function\" style=\"color: rgb(122, 166, 218);\">SuccessKilled <span class=\"title\" style=\"color: rgb(112, 192, 177);\">queryByIdWithSeckill</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">(<span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">long</span> seckillId,<span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">long</span> userPhone)</span></span>;</span><br><span class=\"line\" style=\"height: 20px;\">}</span><br></pre></td></tr></tbody></table></figure><p style=\"margin: 0px 0px 25px;\"></p><p style=\"margin: 0px 0px 25px;\">接下来基于MyBatis来实现我们之前设计的Dao层接口。首先需要配置我们的MyBatis，在resources包下创建MyBatis全局配置文件mybatis-config.xml文件，在浏览器中输入<code style=\"font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 2px 4px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0);\">http://mybatis.github.io/mybatis-3/zh/index.html</code>打开MyBatis的官网文档，点击左边的”入门”栏框，找到mybatis全局配置文件，在这里有xml的一个规范，也就是它的一个xml约束，拷贝:<br></p><figure class=\"highlight xml\" style=\"margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6;\"><table style=\"margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;\"><tbody><tr style=\"background-color: rgb(249, 249, 249);\"><td class=\"gutter\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none; -webkit-user-select: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right;\"><span class=\"line\" style=\"height: 20px;\">1</span><br><span class=\"line\" style=\"height: 20px;\">2</span><br><span class=\"line\" style=\"height: 20px;\">3</span><br><span class=\"line\" style=\"height: 20px;\">4</span><br></pre></td><td class=\"code\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none;\"><span class=\"line\" style=\"height: 20px;\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;</span><br><span class=\"line\" style=\"height: 20px;\"><span class=\"meta\" style=\"color: rgb(195, 151, 216);\">&lt;!DOCTYPE configuration</span><br><span class=\"line\" style=\"height: 20px;\">  PUBLIC \"-//mybatis.org//DTD Config 3.0//EN\"</span><br><span class=\"line\" style=\"height: 20px;\">  \"http://mybatis.org/dtd/mybatis-3-config.dtd\"&gt;</span></span><br></pre></td></tr></tbody></table></figure><p style=\"margin: 0px 0px 25px;\"></p><p style=\"margin: 0px 0px 25px;\">到我们的项目mybatis全局配置文件中，然后在全局配置文件中加入如下配置信息:<br></p><figure class=\"highlight xml\" style=\"margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6;\"><table style=\"margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;\"><tbody><tr style=\"background-color: rgb(249, 249, 249);\"><td class=\"gutter\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none; -webkit-user-select: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right;\"><span class=\"line\" style=\"height: 20px;\">1</span><br><span class=\"line\" style=\"height: 20px;\">2</span><br><span class=\"line\" style=\"height: 20px;\">3</span><br><span class=\"line\" style=\"height: 20px;\">4</span><br><span class=\"line\" style=\"height: 20px;\">5</span><br><span class=\"line\" style=\"height: 20px;\">6</span><br><span class=\"line\" style=\"height: 20px;\">7</span><br><span class=\"line\" style=\"height: 20px;\">8</span><br><span class=\"line\" style=\"height: 20px;\">9</span><br><span class=\"line\" style=\"height: 20px;\">10</span><br><span class=\"line\" style=\"height: 20px;\">11</span><br><span class=\"line\" style=\"height: 20px;\">12</span><br><span class=\"line\" style=\"height: 20px;\">13</span><br><span class=\"line\" style=\"height: 20px;\">14</span><br><span class=\"line\" style=\"height: 20px;\">15</span><br><span class=\"line\" style=\"height: 20px;\">16</span><br><span class=\"line\" style=\"height: 20px;\">17</span><br><span class=\"line\" style=\"height: 20px;\">18</span><br><span class=\"line\" style=\"height: 20px;\">19</span><br><span class=\"line\" style=\"height: 20px;\">20</span><br></pre></td><td class=\"code\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none;\"><span class=\"line\" style=\"height: 20px;\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;</span><br><span class=\"line\" style=\"height: 20px;\"><span class=\"meta\" style=\"color: rgb(195, 151, 216);\">&lt;!DOCTYPE configuration</span><br><span class=\"line\" style=\"height: 20px;\">        PUBLIC \"-//mybatis.org//DTD Config 3.0//EN\"</span><br><span class=\"line\" style=\"height: 20px;\">        \"http://mybatis.org/dtd/mybatis-3-config.dtd\"&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\"><span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">configuration</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">&lt;!--配置全局属性--&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">settings</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">&lt;!--使用jdbc的getGeneratekeys获取自增主键值--&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">setting</span> <span class=\"attr\">name</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"useGeneratedKeys\"</span> <span class=\"attr\">value</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"true\"</span>/&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">&lt;!--使用列别名替换列名　　默认值为true</span><br><span class=\"line\" style=\"height: 20px;\">        select name as title(实体中的属性名是title) form table;</span><br><span class=\"line\" style=\"height: 20px;\">        开启后mybatis会自动帮我们把表中name的值赋到对应实体的title属性中</span><br><span class=\"line\" style=\"height: 20px;\">        --&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">setting</span> <span class=\"attr\">name</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"useColumnLabel\"</span> <span class=\"attr\">value</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"true\"</span>/&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">&lt;!--开启驼峰命名转换Table:create_time到 Entity(createTime)--&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">setting</span> <span class=\"attr\">name</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"mapUnderscoreToCamelCase\"</span> <span class=\"attr\">value</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"true\"</span>/&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">settings</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\"><span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">configuration</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p style=\"margin: 0px 0px 25px;\"></p><p style=\"margin: 0px 0px 25px;\">配置文件创建好后我们需要关注的是Dao接口该如何实现，mybatis为我们提供了mapper动态代理开发的方式为我们自动实现Dao的接口。在mapper包下创建对应Dao接口的xml映射文件，里面用于编写我们操作数据库的sql语句，SeckillDao.xml和SuccessKilledDao.xml。既然又是一个xml文件，我们肯定需要它的dtd文件，在官方文档中，点击左侧”XML配置”，在它的一些事例中，找到它的xml约束:<br></p><figure class=\"highlight xml\" style=\"margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6;\"><table style=\"margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;\"><tbody><tr style=\"background-color: rgb(249, 249, 249);\"><td class=\"gutter\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none; -webkit-user-select: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right;\"><span class=\"line\" style=\"height: 20px;\">1</span><br><span class=\"line\" style=\"height: 20px;\">2</span><br><span class=\"line\" style=\"height: 20px;\">3</span><br></pre></td><td class=\"code\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none;\"><span class=\"line\" style=\"height: 20px;\"><span class=\"meta\" style=\"color: rgb(195, 151, 216);\">&lt;!DOCTYPE mapper</span><br><span class=\"line\" style=\"height: 20px;\">    PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\"</span><br><span class=\"line\" style=\"height: 20px;\">    \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\"&gt;</span></span><br></pre></td></tr></tbody></table></figure><p style=\"margin: 0px 0px 25px;\"></p><p style=\"margin: 0px 0px 25px;\">加入到两个mapper映射xml文件中，然后对照Dao层方法编写我们的映射文件内容如下:&nbsp;</p><p style=\"margin: 0px 0px 25px;\">SeckillDao.xml:<br></p><figure class=\"highlight xml\" style=\"margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6;\"><table style=\"margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;\"><tbody><tr style=\"background-color: rgb(249, 249, 249);\"><td class=\"gutter\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none; -webkit-user-select: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right;\"><span class=\"line\" style=\"height: 20px;\">1</span><br><span class=\"line\" style=\"height: 20px;\">2</span><br><span class=\"line\" style=\"height: 20px;\">3</span><br><span class=\"line\" style=\"height: 20px;\">4</span><br><span class=\"line\" style=\"height: 20px;\">5</span><br><span class=\"line\" style=\"height: 20px;\">6</span><br><span class=\"line\" style=\"height: 20px;\">7</span><br><span class=\"line\" style=\"height: 20px;\">8</span><br><span class=\"line\" style=\"height: 20px;\">9</span><br><span class=\"line\" style=\"height: 20px;\">10</span><br><span class=\"line\" style=\"height: 20px;\">11</span><br><span class=\"line\" style=\"height: 20px;\">12</span><br><span class=\"line\" style=\"height: 20px;\">13</span><br><span class=\"line\" style=\"height: 20px;\">14</span><br><span class=\"line\" style=\"height: 20px;\">15</span><br><span class=\"line\" style=\"height: 20px;\">16</span><br><span class=\"line\" style=\"height: 20px;\">17</span><br><span class=\"line\" style=\"height: 20px;\">18</span><br><span class=\"line\" style=\"height: 20px;\">19</span><br><span class=\"line\" style=\"height: 20px;\">20</span><br><span class=\"line\" style=\"height: 20px;\">21</span><br><span class=\"line\" style=\"height: 20px;\">22</span><br><span class=\"line\" style=\"height: 20px;\">23</span><br><span class=\"line\" style=\"height: 20px;\">24</span><br><span class=\"line\" style=\"height: 20px;\">25</span><br><span class=\"line\" style=\"height: 20px;\">26</span><br><span class=\"line\" style=\"height: 20px;\">27</span><br><span class=\"line\" style=\"height: 20px;\">28</span><br><span class=\"line\" style=\"height: 20px;\">29</span><br><span class=\"line\" style=\"height: 20px;\">30</span><br><span class=\"line\" style=\"height: 20px;\">31</span><br><span class=\"line\" style=\"height: 20px;\">32</span><br></pre></td><td class=\"code\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none;\"><span class=\"line\" style=\"height: 20px;\"><span class=\"meta\" style=\"color: rgb(195, 151, 216);\">&lt;!DOCTYPE mapper</span><br><span class=\"line\" style=\"height: 20px;\">        PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\"</span><br><span class=\"line\" style=\"height: 20px;\">        \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\"&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\"><span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">mapper</span> <span class=\"attr\">namespace</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"cn.codingxiaxw.dao.SeckillDao\"</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">&lt;!--目的:为dao接口方法提供sql语句配置</span><br><span class=\"line\" style=\"height: 20px;\">    即针对dao接口中的方法编写我们的sql语句--&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">update</span> <span class=\"attr\">id</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"reduceNumber\"</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">        UPDATE seckill</span><br><span class=\"line\" style=\"height: 20px;\">        SET number = number-1</span><br><span class=\"line\" style=\"height: 20px;\">        WHERE seckill_id=#{seckillId}</span><br><span class=\"line\" style=\"height: 20px;\">        AND start_time &lt;![CDATA[ &lt;= ]]&gt; #{killTime}</span><br><span class=\"line\" style=\"height: 20px;\">        AND end_time &gt;= #{killTime}</span><br><span class=\"line\" style=\"height: 20px;\">        AND number &gt; 0;</span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">update</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">select</span> <span class=\"attr\">id</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"queryById\"</span> <span class=\"attr\">resultType</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"Seckill\"</span> <span class=\"attr\">parameterType</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"long\"</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">        SELECT *</span><br><span class=\"line\" style=\"height: 20px;\">        FROM seckill</span><br><span class=\"line\" style=\"height: 20px;\">        WHERE seckill_id=#{seckillId}</span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">select</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">select</span> <span class=\"attr\">id</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"queryAll\"</span> <span class=\"attr\">resultType</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"Seckill\"</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">        SELECT *</span><br><span class=\"line\" style=\"height: 20px;\">        FROM seckill</span><br><span class=\"line\" style=\"height: 20px;\">        ORDER BY create_time DESC</span><br><span class=\"line\" style=\"height: 20px;\">        limit #{offset},#{limit}</span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">select</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\"><span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">mapper</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p style=\"margin: 0px 0px 25px;\"></p><p style=\"margin: 0px 0px 25px;\">SuccessKilledDao.xml:<br></p><figure class=\"highlight xml\" style=\"margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6;\"><table style=\"margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;\"><tbody><tr style=\"background-color: rgb(249, 249, 249);\"><td class=\"gutter\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none; -webkit-user-select: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right;\"><span class=\"line\" style=\"height: 20px;\">1</span><br><span class=\"line\" style=\"height: 20px;\">2</span><br><span class=\"line\" style=\"height: 20px;\">3</span><br><span class=\"line\" style=\"height: 20px;\">4</span><br><span class=\"line\" style=\"height: 20px;\">5</span><br><span class=\"line\" style=\"height: 20px;\">6</span><br><span class=\"line\" style=\"height: 20px;\">7</span><br><span class=\"line\" style=\"height: 20px;\">8</span><br><span class=\"line\" style=\"height: 20px;\">9</span><br><span class=\"line\" style=\"height: 20px;\">10</span><br><span class=\"line\" style=\"height: 20px;\">11</span><br><span class=\"line\" style=\"height: 20px;\">12</span><br><span class=\"line\" style=\"height: 20px;\">13</span><br><span class=\"line\" style=\"height: 20px;\">14</span><br><span class=\"line\" style=\"height: 20px;\">15</span><br><span class=\"line\" style=\"height: 20px;\">16</span><br><span class=\"line\" style=\"height: 20px;\">17</span><br><span class=\"line\" style=\"height: 20px;\">18</span><br><span class=\"line\" style=\"height: 20px;\">19</span><br><span class=\"line\" style=\"height: 20px;\">20</span><br><span class=\"line\" style=\"height: 20px;\">21</span><br><span class=\"line\" style=\"height: 20px;\">22</span><br><span class=\"line\" style=\"height: 20px;\">23</span><br><span class=\"line\" style=\"height: 20px;\">24</span><br><span class=\"line\" style=\"height: 20px;\">25</span><br><span class=\"line\" style=\"height: 20px;\">26</span><br><span class=\"line\" style=\"height: 20px;\">27</span><br><span class=\"line\" style=\"height: 20px;\">28</span><br><span class=\"line\" style=\"height: 20px;\">29</span><br><span class=\"line\" style=\"height: 20px;\">30</span><br><span class=\"line\" style=\"height: 20px;\">31</span><br><span class=\"line\" style=\"height: 20px;\">32</span><br><span class=\"line\" style=\"height: 20px;\">33</span><br><span class=\"line\" style=\"height: 20px;\">34</span><br></pre></td><td class=\"code\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none;\"><span class=\"line\" style=\"height: 20px;\"><span class=\"meta\" style=\"color: rgb(195, 151, 216);\">&lt;!DOCTYPE mapper</span><br><span class=\"line\" style=\"height: 20px;\">        PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\"</span><br><span class=\"line\" style=\"height: 20px;\">        \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\"&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\"><span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">mapper</span> <span class=\"attr\">namespace</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"cn.codingxiaxw.dao.SuccessKilledDao\"</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">insert</span> <span class=\"attr\">id</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"insertSuccessKilled\"</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">&lt;!--当出现主键冲突时(即重复秒杀时)，会报错;不想让程序报错，加入ignore--&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">        INSERT ignore INTO success_killed(seckill_id,user_phone,state)</span><br><span class=\"line\" style=\"height: 20px;\">        VALUES (#{seckillId},#{userPhone},0)</span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">insert</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">select</span> <span class=\"attr\">id</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"queryByIdWithSeckill\"</span> <span class=\"attr\">resultType</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"SuccessKilled\"</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">&lt;!--根据seckillId查询SuccessKilled对象，并携带Seckill对象--&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">&lt;!--如何告诉mybatis把结果映射到SuccessKill属性同时映射到Seckill属性--&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">&lt;!--可以自由控制SQL语句--&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">        SELECT</span><br><span class=\"line\" style=\"height: 20px;\">            sk.seckill_id,</span><br><span class=\"line\" style=\"height: 20px;\">            sk.user_phone,</span><br><span class=\"line\" style=\"height: 20px;\">            sk.create_time,</span><br><span class=\"line\" style=\"height: 20px;\">            sk.state,</span><br><span class=\"line\" style=\"height: 20px;\">            s.seckill_id \"seckill.seckill_id\",</span><br><span class=\"line\" style=\"height: 20px;\">            s.name \"seckill.name\",</span><br><span class=\"line\" style=\"height: 20px;\">            s.number \"seckill\",</span><br><span class=\"line\" style=\"height: 20px;\">            s.start_time \"seckill.start_time\",</span><br><span class=\"line\" style=\"height: 20px;\">            s.end_time \"seckill.end_time\",</span><br><span class=\"line\" style=\"height: 20px;\">            s.create_time \"seckill.create_time\"</span><br><span class=\"line\" style=\"height: 20px;\">        FROM success_killed sk</span><br><span class=\"line\" style=\"height: 20px;\">        INNER JOIN seckill s ON sk.seckill_id=s.seckill_id</span><br><span class=\"line\" style=\"height: 20px;\">        WHERE sk.seckill_id=#{seckillId}</span><br><span class=\"line\" style=\"height: 20px;\">        AND sk.user_phone=#{userPhone}</span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">select</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\"><span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">mapper</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p style=\"margin: 0px 0px 25px;\"></p><p style=\"margin: 0px 0px 25px;\">接下来我们开始MyBatis和Spring的整合，整合目标:1.更少的编码:只写接口，不写实现类。2.更少的配置:别名、配置扫描映射xml文件、dao实现。3.足够的灵活性:自由定制SQL语句、自由传结果集自动赋值。&nbsp;</p><p style=\"margin: 0px 0px 25px;\">在resources包下创建一个spring包，里面放置spring对Dao、Service、transaction的配置文件。在浏览器中输入<code style=\"font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 2px 4px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0);\">http://docs.spring.io/spring/docs/</code>进入到Spring的官网中下载其pdf官方文档，在其官方文档中找到它的xml的定义内容头部:<br></p><figure class=\"highlight xml\" style=\"margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6;\"><table style=\"margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;\"><tbody><tr style=\"background-color: rgb(249, 249, 249);\"><td class=\"gutter\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none; -webkit-user-select: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right;\"><span class=\"line\" style=\"height: 20px;\">1</span><br><span class=\"line\" style=\"height: 20px;\">2</span><br><span class=\"line\" style=\"height: 20px;\">3</span><br><span class=\"line\" style=\"height: 20px;\">4</span><br><span class=\"line\" style=\"height: 20px;\">5</span><br><span class=\"line\" style=\"height: 20px;\">6</span><br></pre></td><td class=\"code\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none;\"><span class=\"line\" style=\"height: 20px;\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;</span><br><span class=\"line\" style=\"height: 20px;\"><span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">beans</span> <span class=\"attr\">xmlns</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"http://www.springframework.org/schema/beans\"</span></span><br><span class=\"line\" style=\"height: 20px;\">       <span class=\"attr\">xmlns:xsi</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"http://www.w3.org/2001/XMLSchema-instance\"</span></span><br><span class=\"line\" style=\"height: 20px;\">       <span class=\"attr\">xmlns:context</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"http://www.springframework.org/schema/context\"</span></span><br><span class=\"line\" style=\"height: 20px;\">       <span class=\"attr\">xsi:schemaLocation</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"http://www.springframework.org/schema/beans</span><br><span class=\"line\" style=\"height: 20px;\">        http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\"</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p style=\"margin: 0px 0px 25px;\"></p><p style=\"margin: 0px 0px 25px;\">在spring包下创建一个spring配置dao层对象的配置文件spring-dao.xml，加入上述dtd约束，然后添加二者整合的配置，内容如下:<br></p><figure class=\"highlight xml\" style=\"margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6;\"><table style=\"margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;\"><tbody><tr style=\"background-color: rgb(249, 249, 249);\"><td class=\"gutter\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none; -webkit-user-select: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right;\"><span class=\"line\" style=\"height: 20px;\">1</span><br><span class=\"line\" style=\"height: 20px;\">2</span><br><span class=\"line\" style=\"height: 20px;\">3</span><br><span class=\"line\" style=\"height: 20px;\">4</span><br><span class=\"line\" style=\"height: 20px;\">5</span><br><span class=\"line\" style=\"height: 20px;\">6</span><br><span class=\"line\" style=\"height: 20px;\">7</span><br><span class=\"line\" style=\"height: 20px;\">8</span><br><span class=\"line\" style=\"height: 20px;\">9</span><br><span class=\"line\" style=\"height: 20px;\">10</span><br><span class=\"line\" style=\"height: 20px;\">11</span><br><span class=\"line\" style=\"height: 20px;\">12</span><br><span class=\"line\" style=\"height: 20px;\">13</span><br><span class=\"line\" style=\"height: 20px;\">14</span><br><span class=\"line\" style=\"height: 20px;\">15</span><br><span class=\"line\" style=\"height: 20px;\">16</span><br><span class=\"line\" style=\"height: 20px;\">17</span><br><span class=\"line\" style=\"height: 20px;\">18</span><br><span class=\"line\" style=\"height: 20px;\">19</span><br><span class=\"line\" style=\"height: 20px;\">20</span><br><span class=\"line\" style=\"height: 20px;\">21</span><br><span class=\"line\" style=\"height: 20px;\">22</span><br><span class=\"line\" style=\"height: 20px;\">23</span><br><span class=\"line\" style=\"height: 20px;\">24</span><br><span class=\"line\" style=\"height: 20px;\">25</span><br><span class=\"line\" style=\"height: 20px;\">26</span><br><span class=\"line\" style=\"height: 20px;\">27</span><br><span class=\"line\" style=\"height: 20px;\">28</span><br><span class=\"line\" style=\"height: 20px;\">29</span><br><span class=\"line\" style=\"height: 20px;\">30</span><br><span class=\"line\" style=\"height: 20px;\">31</span><br><span class=\"line\" style=\"height: 20px;\">32</span><br><span class=\"line\" style=\"height: 20px;\">33</span><br><span class=\"line\" style=\"height: 20px;\">34</span><br><span class=\"line\" style=\"height: 20px;\">35</span><br><span class=\"line\" style=\"height: 20px;\">36</span><br><span class=\"line\" style=\"height: 20px;\">37</span><br><span class=\"line\" style=\"height: 20px;\">38</span><br><span class=\"line\" style=\"height: 20px;\">39</span><br><span class=\"line\" style=\"height: 20px;\">40</span><br><span class=\"line\" style=\"height: 20px;\">41</span><br><span class=\"line\" style=\"height: 20px;\">42</span><br><span class=\"line\" style=\"height: 20px;\">43</span><br><span class=\"line\" style=\"height: 20px;\">44</span><br><span class=\"line\" style=\"height: 20px;\">45</span><br><span class=\"line\" style=\"height: 20px;\">46</span><br><span class=\"line\" style=\"height: 20px;\">47</span><br><span class=\"line\" style=\"height: 20px;\">48</span><br><span class=\"line\" style=\"height: 20px;\">49</span><br><span class=\"line\" style=\"height: 20px;\">50</span><br><span class=\"line\" style=\"height: 20px;\">51</span><br><span class=\"line\" style=\"height: 20px;\">52</span><br><span class=\"line\" style=\"height: 20px;\">53</span><br><span class=\"line\" style=\"height: 20px;\">54</span><br><span class=\"line\" style=\"height: 20px;\">55</span><br><span class=\"line\" style=\"height: 20px;\">56</span><br></pre></td><td class=\"code\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none;\"><span class=\"line\" style=\"height: 20px;\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;</span><br><span class=\"line\" style=\"height: 20px;\"><span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">beans</span> <span class=\"attr\">xmlns</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"http://www.springframework.org/schema/beans\"</span></span><br><span class=\"line\" style=\"height: 20px;\">       <span class=\"attr\">xmlns:xsi</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"http://www.w3.org/2001/XMLSchema-instance\"</span></span><br><span class=\"line\" style=\"height: 20px;\">       <span class=\"attr\">xmlns:context</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"http://www.springframework.org/schema/context\"</span></span><br><span class=\"line\" style=\"height: 20px;\">       <span class=\"attr\">xsi:schemaLocation</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"http://www.springframework.org/schema/beans</span><br><span class=\"line\" style=\"height: 20px;\">        http://www.springframework.org/schema/beans/spring-beans.xsd</span><br><span class=\"line\" style=\"height: 20px;\">        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\"</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">&lt;!--配置整合mybatis过程</span><br><span class=\"line\" style=\"height: 20px;\">    1.配置数据库相关参数--&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">context:property-placeholder</span> <span class=\"attr\">location</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"classpath:jdbc.properties\"</span>/&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">&lt;!--2.数据库连接池--&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">bean</span> <span class=\"attr\">id</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"dataSource\"</span> <span class=\"attr\">class</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"com.mchange.v2.c3p0.ComboPooledDataSource\"</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">&lt;!--配置连接池属性--&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"driverClass\"</span> <span class=\"attr\">value</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"${driver}\"</span> /&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">&lt;!-- 基本属性 url、user、password --&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"jdbcUrl\"</span> <span class=\"attr\">value</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"${url}\"</span> /&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"user\"</span> <span class=\"attr\">value</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"${username}\"</span> /&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"password\"</span> <span class=\"attr\">value</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"${password}\"</span> /&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">&lt;!--c3p0私有属性--&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"maxPoolSize\"</span> <span class=\"attr\">value</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"30\"</span>/&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"minPoolSize\"</span> <span class=\"attr\">value</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"10\"</span>/&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">&lt;!--关闭连接后不自动commit--&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"autoCommitOnClose\"</span> <span class=\"attr\">value</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"false\"</span>/&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">&lt;!--获取连接超时时间--&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"checkoutTimeout\"</span> <span class=\"attr\">value</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"1000\"</span>/&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">&lt;!--当获取连接失败重试次数--&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"acquireRetryAttempts\"</span> <span class=\"attr\">value</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"2\"</span>/&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">bean</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">&lt;!--约定大于配置--&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">&lt;!--３.配置SqlSessionFactory对象--&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">bean</span> <span class=\"attr\">id</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"sqlSessionFactory\"</span> <span class=\"attr\">class</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"org.mybatis.spring.SqlSessionFactoryBean\"</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">&lt;!--往下才是mybatis和spring真正整合的配置--&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">&lt;!--注入数据库连接池--&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"dataSource\"</span> <span class=\"attr\">ref</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"dataSource\"</span>/&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">&lt;!--配置mybatis全局配置文件:mybatis-config.xml--&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"configLocation\"</span> <span class=\"attr\">value</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"classpath:mybatis-config.xml\"</span>/&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">&lt;!--扫描entity包,使用别名,多个用;隔开--&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"typeAliasesPackage\"</span> <span class=\"attr\">value</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"cn.codingxiaxw.entity\"</span>/&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">&lt;!--扫描sql配置文件:mapper需要的xml文件--&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"mapperLocations\"</span> <span class=\"attr\">value</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"classpath:mapper/*.xml\"</span>/&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">bean</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">&lt;!--４:配置扫描Dao接口包,动态实现DAO接口,注入到spring容器--&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">bean</span> <span class=\"attr\">class</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"org.mybatis.spring.mapper.MapperScannerConfigurer\"</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">&lt;!--注入SqlSessionFactory--&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"sqlSessionFactoryBeanName\"</span> <span class=\"attr\">value</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"sqlSessionFactory\"</span>/&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">&lt;!-- 给出需要扫描的Dao接口--&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"basePackage\"</span> <span class=\"attr\">value</span>=<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"cn.codingxiaxw.dao\"</span>/&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">bean</span>&gt;</span></span><br><span class=\"line\" style=\"height: 20px;\"><span class=\"tag\" style=\"color: rgb(213, 78, 83);\">&lt;/<span class=\"name\">beans</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p style=\"margin: 0px 0px 25px;\"></p><p style=\"margin: 0px 0px 25px;\">需要我们在resources包下创建jdbc.properties用于配置数据库的连接信息，内容如下:<br></p><figure class=\"highlight plain\" style=\"margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6;\"><table style=\"margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;\"><tbody><tr style=\"background-color: rgb(249, 249, 249);\"><td class=\"gutter\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none; -webkit-user-select: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right;\"><span class=\"line\" style=\"height: 20px;\">1</span><br><span class=\"line\" style=\"height: 20px;\">2</span><br><span class=\"line\" style=\"height: 20px;\">3</span><br><span class=\"line\" style=\"height: 20px;\">4</span><br></pre></td><td class=\"code\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none;\"><span class=\"line\" style=\"height: 20px;\">driver=com.mysql.jdbc.Driver</span><br><span class=\"line\" style=\"height: 20px;\">url=jdbc:mysql://localhost:3306/seckill?useUnicode=true&amp;characterEncoding=utf-8</span><br><span class=\"line\" style=\"height: 20px;\">username=root</span><br><span class=\"line\" style=\"height: 20px;\">password=xiaxunwu1996.</span><br></pre></td></tr></tbody></table></figure><p style=\"margin: 0px 0px 25px;\"></p><p style=\"margin: 0px 0px 25px;\">这样我们便完成了Dao层编码的开发，接下来就可以利用junit进行我们Dao层编码的测试了。首先测试SeckillDao.java，利用IDEA快捷键<code style=\"font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 2px 4px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0);\">shift+command+T</code>对SeckillDao.java进行测试，然后IDEA会自动在test包的java包下为我们生成对SeckillDao.java中所有方法的测试类SeckillDaoTest.java,内容如下:<br></p><figure class=\"highlight java\" style=\"margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6;\"><table style=\"margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;\"><tbody><tr style=\"background-color: rgb(249, 249, 249);\"><td class=\"gutter\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none; -webkit-user-select: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right;\"><span class=\"line\" style=\"height: 20px;\">1</span><br><span class=\"line\" style=\"height: 20px;\">2</span><br><span class=\"line\" style=\"height: 20px;\">3</span><br><span class=\"line\" style=\"height: 20px;\">4</span><br><span class=\"line\" style=\"height: 20px;\">5</span><br><span class=\"line\" style=\"height: 20px;\">6</span><br><span class=\"line\" style=\"height: 20px;\">7</span><br><span class=\"line\" style=\"height: 20px;\">8</span><br><span class=\"line\" style=\"height: 20px;\">9</span><br><span class=\"line\" style=\"height: 20px;\">10</span><br><span class=\"line\" style=\"height: 20px;\">11</span><br><span class=\"line\" style=\"height: 20px;\">12</span><br><span class=\"line\" style=\"height: 20px;\">13</span><br><span class=\"line\" style=\"height: 20px;\">14</span><br><span class=\"line\" style=\"height: 20px;\">15</span><br><span class=\"line\" style=\"height: 20px;\">16</span><br></pre></td><td class=\"code\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none;\"><span class=\"line\" style=\"height: 20px;\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> <span class=\"class\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">class</span> <span class=\"title\" style=\"color: rgb(112, 192, 177);\">SeckillDaoTest</span> </span>{</span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"meta\" style=\"color: rgb(195, 151, 216);\">@Test</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"function\" style=\"color: rgb(122, 166, 218);\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">void</span> <span class=\"title\" style=\"color: rgb(112, 192, 177);\">reduceNumber</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">()</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">throws</span> Exception </span>{</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    }</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"meta\" style=\"color: rgb(195, 151, 216);\">@Test</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"function\" style=\"color: rgb(122, 166, 218);\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">void</span> <span class=\"title\" style=\"color: rgb(112, 192, 177);\">queryById</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">()</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">throws</span> Exception </span>{</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    }</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"meta\" style=\"color: rgb(195, 151, 216);\">@Test</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"function\" style=\"color: rgb(122, 166, 218);\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">void</span> <span class=\"title\" style=\"color: rgb(112, 192, 177);\">queryAll</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">()</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">throws</span> Exception </span>{</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    }</span><br><span class=\"line\" style=\"height: 20px;\">}</span><br></pre></td></tr></tbody></table></figure><p style=\"margin: 0px 0px 25px;\"></p><p style=\"margin: 0px 0px 25px;\">然后便可以在这个测试类中对SeckillDao接口的所有方法进行测试了,先测试queryById()方法，在该方法中添加内容:<br></p><figure class=\"highlight java\" style=\"margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6;\"><table style=\"margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;\"><tbody><tr style=\"background-color: rgb(249, 249, 249);\"><td class=\"gutter\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none; -webkit-user-select: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right;\"><span class=\"line\" style=\"height: 20px;\">1</span><br><span class=\"line\" style=\"height: 20px;\">2</span><br><span class=\"line\" style=\"height: 20px;\">3</span><br><span class=\"line\" style=\"height: 20px;\">4</span><br><span class=\"line\" style=\"height: 20px;\">5</span><br><span class=\"line\" style=\"height: 20px;\">6</span><br><span class=\"line\" style=\"height: 20px;\">7</span><br><span class=\"line\" style=\"height: 20px;\">8</span><br><span class=\"line\" style=\"height: 20px;\">9</span><br><span class=\"line\" style=\"height: 20px;\">10</span><br><span class=\"line\" style=\"height: 20px;\">11</span><br><span class=\"line\" style=\"height: 20px;\">12</span><br><span class=\"line\" style=\"height: 20px;\">13</span><br><span class=\"line\" style=\"height: 20px;\">14</span><br><span class=\"line\" style=\"height: 20px;\">15</span><br><span class=\"line\" style=\"height: 20px;\">16</span><br><span class=\"line\" style=\"height: 20px;\">17</span><br><span class=\"line\" style=\"height: 20px;\">18</span><br><span class=\"line\" style=\"height: 20px;\">19</span><br><span class=\"line\" style=\"height: 20px;\">20</span><br><span class=\"line\" style=\"height: 20px;\">21</span><br><span class=\"line\" style=\"height: 20px;\">22</span><br></pre></td><td class=\"code\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none;\"><span class=\"line\" style=\"height: 20px;\"><span class=\"comment\" style=\"color: rgb(150, 152, 150);\">/**</span><br><span class=\"line\" style=\"height: 20px;\"> * Created by codingBoy on 16/11/27.</span><br><span class=\"line\" style=\"height: 20px;\"> * 配置spring和junit整合，这样junit在启动时就会加载spring容器</span><br><span class=\"line\" style=\"height: 20px;\"> */</span></span><br><span class=\"line\" style=\"height: 20px;\"><span class=\"meta\" style=\"color: rgb(195, 151, 216);\">@RunWith</span>(SpringJUnit4ClassRunner.class)</span><br><span class=\"line\" style=\"height: 20px;\"><span class=\"comment\" style=\"color: rgb(150, 152, 150);\">//告诉junit spring的配置文件</span></span><br><span class=\"line\" style=\"height: 20px;\"><span class=\"meta\" style=\"color: rgb(195, 151, 216);\">@ContextConfiguration</span>({<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"classpath:spring/spring-dao.xml\"</span>})</span><br><span class=\"line\" style=\"height: 20px;\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> <span class=\"class\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">class</span> <span class=\"title\" style=\"color: rgb(112, 192, 177);\">SeckillDaoTest</span> </span>{</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"comment\" style=\"color: rgb(150, 152, 150);\">//注入Dao实现类依赖</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"meta\" style=\"color: rgb(195, 151, 216);\">@Resource</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">private</span> SeckillDao seckillDao;</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"meta\" style=\"color: rgb(195, 151, 216);\">@Test</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"function\" style=\"color: rgb(122, 166, 218);\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">void</span> <span class=\"title\" style=\"color: rgb(112, 192, 177);\">queryById</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">()</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">throws</span> Exception </span>{</span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">long</span> seckillId=<span class=\"number\" style=\"color: rgb(185, 202, 74);\">1000</span>;</span><br><span class=\"line\" style=\"height: 20px;\">        Seckill seckill=seckillDao.queryById(seckillId);</span><br><span class=\"line\" style=\"height: 20px;\">        System.out.println(seckill.getName());</span><br><span class=\"line\" style=\"height: 20px;\">        System.out.println(seckill);</span><br><span class=\"line\" style=\"height: 20px;\">    }</span><br><span class=\"line\" style=\"height: 20px;\">}</span><br></pre></td></tr></tbody></table></figure><p style=\"margin: 0px 0px 25px;\"></p><p style=\"margin: 0px 0px 25px;\">右键选择”debug queryById()”，测试台成功输入该id为1000的商品信息，证明Dao的该方法正确，然后测试queryAll()方法，在该方法中添加如下内容:<br></p><figure class=\"highlight java\" style=\"margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6;\"><table style=\"margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;\"><tbody><tr style=\"background-color: rgb(249, 249, 249);\"><td class=\"gutter\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none; -webkit-user-select: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right;\"><span class=\"line\" style=\"height: 20px;\">1</span><br><span class=\"line\" style=\"height: 20px;\">2</span><br><span class=\"line\" style=\"height: 20px;\">3</span><br><span class=\"line\" style=\"height: 20px;\">4</span><br><span class=\"line\" style=\"height: 20px;\">5</span><br><span class=\"line\" style=\"height: 20px;\">6</span><br><span class=\"line\" style=\"height: 20px;\">7</span><br><span class=\"line\" style=\"height: 20px;\">8</span><br><span class=\"line\" style=\"height: 20px;\">9</span><br></pre></td><td class=\"code\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none;\"><span class=\"line\" style=\"height: 20px;\"><span class=\"meta\" style=\"color: rgb(195, 151, 216);\">@Test</span></span><br><span class=\"line\" style=\"height: 20px;\">   <span class=\"function\" style=\"color: rgb(122, 166, 218);\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">void</span> <span class=\"title\" style=\"color: rgb(112, 192, 177);\">queryAll</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">()</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">throws</span> Exception </span>{</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">       List&lt;Seckill&gt; seckills=seckillDao.queryAll(<span class=\"number\" style=\"color: rgb(185, 202, 74);\">0</span>,<span class=\"number\" style=\"color: rgb(185, 202, 74);\">100</span>);</span><br><span class=\"line\" style=\"height: 20px;\">       <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">for</span> (Seckill seckill : seckills)</span><br><span class=\"line\" style=\"height: 20px;\">       {</span><br><span class=\"line\" style=\"height: 20px;\">           System.out.println(seckill);</span><br><span class=\"line\" style=\"height: 20px;\">       }</span><br><span class=\"line\" style=\"height: 20px;\">   }</span><br></pre></td></tr></tbody></table></figure><p style=\"margin: 0px 0px 25px;\"></p><p style=\"margin: 0px 0px 25px;\">然后运行该方法，程序报错，报错信息如下:<br></p><figure class=\"highlight plain\" style=\"margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6;\"><table style=\"margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;\"><tbody><tr style=\"background-color: rgb(249, 249, 249);\"><td class=\"gutter\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none; -webkit-user-select: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right;\"><span class=\"line\" style=\"height: 20px;\">1</span><br></pre></td><td class=\"code\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none;\"><span class=\"line\" style=\"height: 20px;\">Caused by: org.apache.ibatis.binding.BindingException: Parameter 'offset' not found. Available parameters are [1, 0, param1, param2]</span><br></pre></td></tr></tbody></table></figure><p style=\"margin: 0px 0px 25px;\"></p><p style=\"margin: 0px 0px 25px;\">意思就是无法完成offset参数的绑定，这也是我们java编程语言的一个问题，也就是java没有保存行参的记录，java在运行的时候会把<code style=\"font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 2px 4px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0);\">List&lt;Seckill&gt; queryAll(int offset,int limit);</code>中的参数变成这样:<code style=\"font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 2px 4px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0);\">queryAll(int arg0,int arg1)</code>,这样我们就没有办法去传递多个参数。需要在SeckillDao接口中修改方法:<br></p><figure class=\"highlight java\" style=\"margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6;\"><table style=\"margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;\"><tbody><tr style=\"background-color: rgb(249, 249, 249);\"><td class=\"gutter\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none; -webkit-user-select: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right;\"><span class=\"line\" style=\"height: 20px;\">1</span><br></pre></td><td class=\"code\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none;\"><span class=\"line\" style=\"height: 20px;\"><span class=\"function\" style=\"color: rgb(122, 166, 218);\">List&lt;Seckill&gt; <span class=\"title\" style=\"color: rgb(112, 192, 177);\">queryAll</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">(@Param(<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"offset\"</span>)</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">int</span> offset,@<span class=\"title\" style=\"color: rgb(112, 192, 177);\">Param</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">(<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"limit\"</span>)</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">int</span> limit)</span>;</span><br></pre></td></tr></tbody></table></figure><p style=\"margin: 0px 0px 25px;\"></p><p style=\"margin: 0px 0px 25px;\">这样才能使我们的MyBatis识别offset和limit两个参数，将Dao层方法中的这两个参数与xml映射文件中sql语句的传入参数完成映射。然后重新测试，发现测试通过。然后测试reduceNumber()方法，在该方法中加入如下内容:<br></p><figure class=\"highlight java\" style=\"margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6;\"><table style=\"margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;\"><tbody><tr style=\"background-color: rgb(249, 249, 249);\"><td class=\"gutter\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none; -webkit-user-select: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right;\"><span class=\"line\" style=\"height: 20px;\">1</span><br><span class=\"line\" style=\"height: 20px;\">2</span><br><span class=\"line\" style=\"height: 20px;\">3</span><br><span class=\"line\" style=\"height: 20px;\">4</span><br><span class=\"line\" style=\"height: 20px;\">5</span><br><span class=\"line\" style=\"height: 20px;\">6</span><br><span class=\"line\" style=\"height: 20px;\">7</span><br><span class=\"line\" style=\"height: 20px;\">8</span><br><span class=\"line\" style=\"height: 20px;\">9</span><br></pre></td><td class=\"code\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none;\"><span class=\"line\" style=\"height: 20px;\"><span class=\"meta\" style=\"color: rgb(195, 151, 216);\">@Test</span></span><br><span class=\"line\" style=\"height: 20px;\">  <span class=\"function\" style=\"color: rgb(122, 166, 218);\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">void</span> <span class=\"title\" style=\"color: rgb(112, 192, 177);\">reduceNumber</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">()</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">throws</span> Exception </span>{</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">long</span> seckillId=<span class=\"number\" style=\"color: rgb(185, 202, 74);\">1000</span>;</span><br><span class=\"line\" style=\"height: 20px;\">      Date date=<span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">new</span> Date();</span><br><span class=\"line\" style=\"height: 20px;\">      <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">int</span> updateCount=seckillDao.reduceNumber(seckillId,date);</span><br><span class=\"line\" style=\"height: 20px;\">      System.out.println(updateCount);</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">  }</span><br></pre></td></tr></tbody></table></figure><p style=\"margin: 0px 0px 25px;\"></p><p style=\"margin: 0px 0px 25px;\">运行该方法，报错:<br></p><figure class=\"highlight plain\" style=\"margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6;\"><table style=\"margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;\"><tbody><tr style=\"background-color: rgb(249, 249, 249);\"><td class=\"gutter\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none; -webkit-user-select: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right;\"><span class=\"line\" style=\"height: 20px;\">1</span><br></pre></td><td class=\"code\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none;\"><span class=\"line\" style=\"height: 20px;\">Caused by: org.apache.ibatis.binding.BindingException: Parameter 'seckillId' not found. Available parameters are [1, 0, param1, param2]</span><br></pre></td></tr></tbody></table></figure><p style=\"margin: 0px 0px 25px;\"></p><p style=\"margin: 0px 0px 25px;\">发现依然是我们之前那个错误，更改SeckillDao接口的reduceNumber()方法:<br></p><figure class=\"highlight java\" style=\"margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6;\"><table style=\"margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;\"><tbody><tr style=\"background-color: rgb(249, 249, 249);\"><td class=\"gutter\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none; -webkit-user-select: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right;\"><span class=\"line\" style=\"height: 20px;\">1</span><br></pre></td><td class=\"code\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none;\"><span class=\"line\" style=\"height: 20px;\"><span class=\"function\" style=\"color: rgb(122, 166, 218);\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">int</span> <span class=\"title\" style=\"color: rgb(112, 192, 177);\">reduceNumber</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">(@Param(<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"seckillId\"</span>)</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">long</span> seckillId, @<span class=\"title\" style=\"color: rgb(112, 192, 177);\">Param</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">(<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"killTime\"</span>)</span> Date killTime)</span>;</span><br></pre></td></tr></tbody></table></figure><p style=\"margin: 0px 0px 25px;\"></p><p style=\"margin: 0px 0px 25px;\">然后重新运行，测试通过，可是我们查询数据库发现该库存表的商品数量没有减少，是因为我们当前时间没有达到秒杀商品要求的时间，所以不会成功秒杀。接下来进行SuccessKilledDao接口相关方法的测试，依旧使用IDEA快捷键<code style=\"font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 2px 4px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0);\">shift+command+T</code>快速生成其方法的相应测试类:<br></p><figure class=\"highlight java\" style=\"margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6;\"><table style=\"margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;\"><tbody><tr style=\"background-color: rgb(249, 249, 249);\"><td class=\"gutter\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none; -webkit-user-select: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right;\"><span class=\"line\" style=\"height: 20px;\">1</span><br><span class=\"line\" style=\"height: 20px;\">2</span><br><span class=\"line\" style=\"height: 20px;\">3</span><br><span class=\"line\" style=\"height: 20px;\">4</span><br><span class=\"line\" style=\"height: 20px;\">5</span><br><span class=\"line\" style=\"height: 20px;\">6</span><br><span class=\"line\" style=\"height: 20px;\">7</span><br><span class=\"line\" style=\"height: 20px;\">8</span><br><span class=\"line\" style=\"height: 20px;\">9</span><br><span class=\"line\" style=\"height: 20px;\">10</span><br><span class=\"line\" style=\"height: 20px;\">11</span><br></pre></td><td class=\"code\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none;\"><span class=\"line\" style=\"height: 20px;\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> <span class=\"class\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">class</span> <span class=\"title\" style=\"color: rgb(112, 192, 177);\">SuccessKilledDaoTest</span> </span>{</span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"meta\" style=\"color: rgb(195, 151, 216);\">@Test</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"function\" style=\"color: rgb(122, 166, 218);\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">void</span> <span class=\"title\" style=\"color: rgb(112, 192, 177);\">insertSuccessKilled</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">()</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">throws</span> Exception \t</span>{</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    }</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"meta\" style=\"color: rgb(195, 151, 216);\">@Test</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"function\" style=\"color: rgb(122, 166, 218);\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">void</span> <span class=\"title\" style=\"color: rgb(112, 192, 177);\">queryByIdWithSeckill</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">()</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">throws</span> Exception \t</span>{</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    }</span><br><span class=\"line\" style=\"height: 20px;\">}</span><br></pre></td></tr></tbody></table></figure><p style=\"margin: 0px 0px 25px;\"></p><p style=\"margin: 0px 0px 25px;\">依然要在SuccessKilledDao的方法中用@Param注解完成参数的绑定，首先完成insertSuccessKilled()的测试:<br></p><figure class=\"highlight java\" style=\"margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6;\"><table style=\"margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;\"><tbody><tr style=\"background-color: rgb(245, 245, 245);\"><td class=\"gutter\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none; -webkit-user-select: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right;\"><span class=\"line\" style=\"height: 20px;\">1</span><br><span class=\"line\" style=\"height: 20px;\">2</span><br><span class=\"line\" style=\"height: 20px;\">3</span><br><span class=\"line\" style=\"height: 20px;\">4</span><br><span class=\"line\" style=\"height: 20px;\">5</span><br><span class=\"line\" style=\"height: 20px;\">6</span><br><span class=\"line\" style=\"height: 20px;\">7</span><br><span class=\"line\" style=\"height: 20px;\">8</span><br><span class=\"line\" style=\"height: 20px;\">9</span><br><span class=\"line\" style=\"height: 20px;\">10</span><br><span class=\"line\" style=\"height: 20px;\">11</span><br><span class=\"line\" style=\"height: 20px;\">12</span><br><span class=\"line\" style=\"height: 20px;\">13</span><br><span class=\"line\" style=\"height: 20px;\">14</span><br><span class=\"line\" style=\"height: 20px;\">15</span><br><span class=\"line\" style=\"height: 20px;\">16</span><br><span class=\"line\" style=\"height: 20px;\">17</span><br></pre></td><td class=\"code\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none;\"><span class=\"line\" style=\"height: 20px;\"><span class=\"meta\" style=\"color: rgb(195, 151, 216);\">@RunWith</span>(SpringJUnit4ClassRunner.class)</span><br><span class=\"line\" style=\"height: 20px;\"><span class=\"comment\" style=\"color: rgb(150, 152, 150);\">//告诉junit spring的配置文件</span></span><br><span class=\"line\" style=\"height: 20px;\"><span class=\"meta\" style=\"color: rgb(195, 151, 216);\">@ContextConfiguration</span>({<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"classpath:spring/spring-dao.xml\"</span>})</span><br><span class=\"line\" style=\"height: 20px;\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> <span class=\"class\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">class</span> <span class=\"title\" style=\"color: rgb(112, 192, 177);\">SuccessKilledDaoTest</span> </span>{</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"meta\" style=\"color: rgb(195, 151, 216);\">@Resource</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">private</span> SuccessKilledDao successKilledDao;</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"meta\" style=\"color: rgb(195, 151, 216);\">@Test</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"function\" style=\"color: rgb(122, 166, 218);\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">void</span> <span class=\"title\" style=\"color: rgb(112, 192, 177);\">insertSuccessKilled</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">()</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">throws</span> Exception \t</span>{</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">long</span> seckillId=<span class=\"number\" style=\"color: rgb(185, 202, 74);\">1000</span>;</span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">long</span> userPhone=<span class=\"number\" style=\"color: rgb(185, 202, 74);\">13476191877L</span>;</span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">int</span> insertCount=successKilledDao.insertSuccessKilled(seckillId,userPhone);</span><br><span class=\"line\" style=\"height: 20px;\">        System.out.println(<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"insertCount=\"</span>+insertCount);</span><br><span class=\"line\" style=\"height: 20px;\">    }</span><br><span class=\"line\" style=\"height: 20px;\">｝</span><br></pre></td></tr></tbody></table></figure><p style=\"margin: 0px 0px 25px;\"></p><p style=\"margin: 0px 0px 25px;\">运行成功，测试台打印出insertCount=1的信息，即我们修改了表中的一条记录，这时查看秒杀成功明细表，发现该用户的信息已经被插入。然后再次运行该测试方法，程序没有报主键异常的错，是因为我们在编写我们的明细表的时候添加了一个联合主键的字段，它保证我们明细表中的seckillId和userPhone不能重复插入，另外在SuccessDao.xml中写的插入语句的ignore关键字也保证了这点。控制台输出0，表示没有对明细表做插入操作。然后进行queryByIdWithSeckill()方法的测试,需要在Dao层的方法中添加@Param注解:<br></p><figure class=\"highlight java\" style=\"margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6;\"><table style=\"margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;\"><tbody><tr style=\"background-color: rgb(249, 249, 249);\"><td class=\"gutter\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none; -webkit-user-select: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right;\"><span class=\"line\" style=\"height: 20px;\">1</span><br></pre></td><td class=\"code\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none;\"><span class=\"line\" style=\"height: 20px;\"><span class=\"function\" style=\"color: rgb(122, 166, 218);\">SuccessKilled <span class=\"title\" style=\"color: rgb(112, 192, 177);\">queryByIdWithSeckill</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">(@Param(<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"seckillId\"</span>)</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">long</span> seckillId,@<span class=\"title\" style=\"color: rgb(112, 192, 177);\">Param</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">(<span class=\"string\" style=\"color: rgb(185, 202, 74);\">\"userPhone\"</span>)</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">long</span> userPhone)</span>;</span><br></pre></td></tr></tbody></table></figure><p style=\"margin: 0px 0px 25px;\"></p><p style=\"margin: 0px 0px 25px;\">然后进行该方法的测试:<br></p><figure class=\"highlight java\" style=\"margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6;\"><table style=\"margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;\"><tbody><tr style=\"background-color: rgb(249, 249, 249);\"><td class=\"gutter\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none; -webkit-user-select: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right;\"><span class=\"line\" style=\"height: 20px;\">1</span><br><span class=\"line\" style=\"height: 20px;\">2</span><br><span class=\"line\" style=\"height: 20px;\">3</span><br><span class=\"line\" style=\"height: 20px;\">4</span><br><span class=\"line\" style=\"height: 20px;\">5</span><br><span class=\"line\" style=\"height: 20px;\">6</span><br><span class=\"line\" style=\"height: 20px;\">7</span><br><span class=\"line\" style=\"height: 20px;\">8</span><br><span class=\"line\" style=\"height: 20px;\">9</span><br><span class=\"line\" style=\"height: 20px;\">10</span><br></pre></td><td class=\"code\" style=\"padding: 0px; text-align: left; vertical-align: middle; border: none;\"><pre style=\"overflow: auto; font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace; font-size: 13px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none;\"><span class=\"line\" style=\"height: 20px;\"><span class=\"meta\" style=\"color: rgb(195, 151, 216);\">@Test</span></span><br><span class=\"line\" style=\"height: 20px;\">    <span class=\"function\" style=\"color: rgb(122, 166, 218);\"><span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">public</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">void</span> <span class=\"title\" style=\"color: rgb(112, 192, 177);\">queryByIdWithSeckill</span><span class=\"params\" style=\"color: rgb(231, 140, 69);\">()</span> <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">throws</span> Exception \t</span>{</span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">long</span> seckillId=<span class=\"number\" style=\"color: rgb(185, 202, 74);\">1000L</span>;</span><br><span class=\"line\" style=\"height: 20px;\">        <span class=\"keyword\" style=\"color: rgb(195, 151, 216);\">long</span> userPhone=<span class=\"number\" style=\"color: rgb(185, 202, 74);\">13476191877L</span>;</span><br><span class=\"line\" style=\"height: 20px;\">        SuccessKilled successKilled=successKilledDao.queryByIdWithSeckill(seckillId,userPhone);</span><br><span class=\"line\" style=\"height: 20px;\">        System.out.println(successKilled);</span><br><span class=\"line\" style=\"height: 20px;\">        System.out.println(successKilled.getSeckill());</span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\"></span><br><span class=\"line\" style=\"height: 20px;\">    }</span><br></pre></td></tr></tbody></table></figure><p style=\"margin: 0px 0px 25px;\"></p><p style=\"margin: 0px 0px 25px;\">运行，成功查询出我们明细表中id为1000且手机号码为13476191877的用户信息，并将表中对应的信息映射到SuccessKilled对象和Seckill对象的属性中。&nbsp;</p><p style=\"margin: 0px 0px 25px;\">到此，我们成功完成了Dao层开发及测试，接下来我们将进行Service层的开发工作，请查看我的下篇文章<a href=\"http://codingxiaxw.cn/2016/11/28/54-seckill-service/\" style=\"color: rgb(85, 85, 85); text-decoration: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;\">Java高并发秒杀API之Service层开</a>发</p></div><footer class=\"post-footer\"><div class=\"post-nav\" style=\"overflow: hidden; margin-top: 60px; padding: 10px; white-space: nowrap; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(238, 238, 238);\"><div class=\"post-nav-next post-nav-item\" style=\"display: inline-block; width: 340px; white-space: normal;\"></div></div></footer></article></div></div></div></div></main><footer id=\"footer\" class=\"footer\" style=\"position: absolute; left: 0px; bottom: 0px; width: 944px; min-height: 50px; font-size: 14px; color: rgb(153, 153, 153); font-family: Lato, 'PingFang SC', 'Microsoft YaHei', sans-serif;\"><div class=\"footer-inner\" style=\"box-sizing: border-box; margin: 20px auto; width: 700px; text-align: center;\"><div class=\"powered-by\" style=\"display: inline-block; margin-right: 10px;\">Powered by&nbsp;<a class=\"theme-link\" href=\"https://hexo.io/\" style=\"color: rgb(85, 85, 85); text-decoration: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;\">Hexo</a>&nbsp;</div>&nbsp;<div class=\"theme-info\" style=\"display: inline-block;\">Theme -&nbsp;<a class=\"theme-link\" href=\"https://github.com/iissnan/hexo-theme-next\" style=\"color: rgb(85, 85, 85); text-decoration: none; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); word-wrap: break-word;\">NexT.Muse</a></div></div></footer>"
    }
  ]
}